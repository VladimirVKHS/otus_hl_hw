{"version":3,"sources":["./src/app/pages/profile-edit-page/profile-edit-page.component.ts","./src/app/pages/profile-edit-page/profile-edit-page.component.html","./src/app/pages/feed-page-component/feed-page-component.component.ts","./src/app/pages/feed-page-component/feed-page-component.component.html","./src/app/pages/login-page/login-page.component.ts","./src/app/pages/login-page/login-page.component.html","./src/app/core/services/auth.service.ts","./src/environments/environment.ts","./src/app/pages/user-page/user-page.component.ts","./src/app/pages/user-page/user-page.component.html","./src/app/core/resolvers/profile-resolver.service.ts","./src/app/pages/create-post-page/create-post-page.component.ts","./src/app/pages/create-post-page/create-post-page.component.html","./src/app/core/services/posts-api.service.ts","./src/app/components/user-card/user-card.component.ts","./src/app/components/user-card/user-card.component.html","./src/app/pages/home-page/home-page.component.ts","./src/app/pages/home-page/home-page.component.html","./src/app/core/resolvers/feed-resolver.service.ts","./src/app/core/services/users-api.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/core/services/messages-api.service.ts","./src/app/components/post-card/post-card.component.ts","./src/app/components/post-card/post-card.component.html","./src/app/core/guards/authorized-only.guard.ts","./src/app/app.module.ts","./src/app/components/message-card/message-card.component.ts","./src/app/components/message-card/message-card.component.html","./src/app/pages/registration-page/registration-page.component.ts","./src/app/pages/registration-page/registration-page.component.html","./src/app/components/main-menu/main-menu.component.ts","./src/app/components/main-menu/main-menu.component.html","./src/app/pages/post-page/post-page.component.ts","./src/app/pages/post-page/post-page.component.html","./src/app/core/resolvers/user-resolver.service.ts","./src/app/core/core.module.ts","./src/app/core/services/api.service.ts","./src/app/pages/page404/page404.component.ts","./src/app/pages/page404/page404.component.html","./src/app/core/guards/guest-only.guard.ts","./src/app/app-routing.module.ts","./src/app/core/services/api-interceptor.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAEgB;;;;;;;;AAQ3D,MAAM,wBAAwB;IAMnC,YACU,cAA8B,EAC9B,EAAe,EACf,IAAiB;QAFjB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,OAAE,GAAF,EAAE,CAAa;QACf,SAAI,GAAJ,IAAI,CAAa;IACvB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,IAAI;QACF,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACrB,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YACrD,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;;YACT,MAAM,KAAK,SAAG,GAAG,CAAC,KAAK,0CAAE,KAAK,CAAC;YAC/B,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,QAAQ;QACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,KAAK,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC/E,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC3C,SAAS,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YACvF,QAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YACrF,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7E,SAAS,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;YACxF,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACzF,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YAChD,QAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;SACpC,CAAC,CAAC;IACL,CAAC;;gGA1CU,wBAAwB;wGAAxB,wBAAwB;QCVrC,yEACE;QAAA,2EAA+B;QAC/B,yEACE;QAAA,yEACE;QAAA,0EACE;QAAA,yEACE;QAAA,sEAGF;QAAA,4DAAM;QACN,yEACE;QAAA,sEAGF;QAAA,4DAAM;QACN,yEACE;QAAA,uEAGF;QAAA,4DAAM;QACN,0EACE;QAAA,uEAGF;QAAA,4DAAM;QACN,0EACE;QAAA,uEAGF;QAAA,4DAAM;QACN,0EACE;QAAA,wEAGF;QAAA,4DAAM;QACN,0EACE;QAAA,8EAGE;QAAA,8EAAqB;QAAA,gEAAI;QAAA,4DAAS;QAClC,8EAAuB;QAAA,kEAAM;QAAA,4DAAS;QACxC,4DAAS;QACX,4DAAM;QACN,0EACA;QAAA,2EAEoG;QACpG,4DAAM;QACN,2EACE;QAAA,6EAA6B;QAAA,wEAAmD;QAAA,2EAAc;QAAA,4DAAQ;QACxG,4DAAM;QACN,0EACE;QAAA,yEAAwG;QAAjB,4IAAS,UAAM,IAAC;QAAC,gEAAI;QAAA,4DAAI;QAClH,4DAAM;QAER,4DAAO;QACT,4DAAM;QACR,4DAAM;QACR,4DAAM;;QAtD4C,0DAAkB;QAAlB,+EAAkB;QAGxD,0DAAsF;QAAtF,0MAAsF;QAKtF,0DAA4F;QAA5F,iNAA4F;QAK5F,0DAA8F;QAA9F,mNAA8F;QAK9F,0DAA4F;QAA5F,iNAA4F;QAK5F,0DAAoF;QAApF,yMAAoF;QAKpF,0DAAkF;QAAlF,uMAAkF;QAKlF,0DAAkF;QAAlF,uMAAkF;QAQpF,0DAA8F;QAA9F,mNAA8F;;6FDnC3F,wBAAwB;cALpC,uDAAS;eAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,WAAW,EAAE,oCAAoC;gBACjD,SAAS,EAAE,CAAC,oCAAoC,CAAC;aAClD;;;;;;;;;;;;;;;;;;;;;;;;;;AETD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2D;AAEG;;;;;;;;ICE1D,8EAIiB;;;IADf,yEAAa;;ADAnB,IAAI,aAAa,GAAG,KAAK,CAAC;AAOnB,MAAM,0BAA0B;IAKrC,YACU,cAA8B,EAC9B,IAAiB;QADjB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,SAAI,GAAJ,IAAI,CAAa;IACvB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,qEAAW,CAAC,KAAK,EAAE;YAClC,UAAU,EAAE,CAAC,WAAW,CAAC;SAC1B,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtB,IAAI,CAAC,aAAa,EAAE;YAElB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE;gBAC7B,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;gBAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAC7D,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE;gBAChC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,mBAAmB,EAAE,CAAC,GAAmB,EAAE,EAAE;gBAC1D,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBAC/B,MAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC;YACH,aAAa,GAAG,IAAI,CAAC;SACtB;QACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;IAC9D,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;SACvB;IACH,CAAC;;oGA3CU,0BAA0B;0GAA1B,0BAA0B;QCdvC,yEACE;QAAA,2EAA+B;QAC/B,qEAAI;QAAA,+DAAI;QAAA,4DAAK;QACb,yEACE;QAAA,0IAIC;QACH,4DAAM;QACR,4DAAM;;QAJA,0DAAwC;QAAxC,4FAAwC;;6FDQjC,0BAA0B;cALtC,uDAAS;eAAC;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,WAAW,EAAE,sCAAsC;gBACnD,SAAS,EAAE,CAAC,sCAAsC,CAAC;aACpD;;;;;;;;;;;;;;AEbD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACgB;;;;;;;AAS3D,MAAM,kBAAkB;IAI7B,YACU,EAAe,EACf,IAAiB,EACjB,MAAc;QAFd,OAAE,GAAF,EAAE,CAAa;QACf,SAAI,GAAJ,IAAI,CAAa;QACjB,WAAM,GAAN,MAAM,CAAQ;IACpB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7D,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAChE,QAAQ,EAAE,CAAC,IAAI,CAAC;SACjB,CAAC,CAAC;IACL,CAAC;IAED,KAAK;QACH,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACrB,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACd,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;YAC5B,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ;SACnC,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YAC1C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC,EAAE,GAAG,EAAE;YACN,KAAK,CAAC,QAAQ,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;;oFA9BU,kBAAkB;kGAAlB,kBAAkB;QCV/B,yEACE;QAAA,yEAEE;QAAA,oEAEA;QAAA,0EACE;QAAA,yEACE;QAAA,sEAGF;QAAA,4DAAM;QACN,yEACE;QAAA,sEAGF;QAAA,4DAAM;QACN,yEACE;QAAA,uEAAyG;QAAlB,qIAAS,WAAO,IAAC;QAAC,iEAAK;QAAA,4DAAI;QACpH,4DAAM;QACN,0EACE;QAAA,4EAA6B;QAAA,wEAAmD;QAAA,wEAAW;QAAA,4DAAQ;QACrG,4DAAM;QACN,0EACE;QAAA,yEAA+F;QAAA,wEAAY;QAAA,4DAAI;QACjH,4DAAM;QACR,4DAAO;QAET,4DAAM;QACR,4DAAM;;QAvB0C,0DAAkB;QAAlB,+EAAkB;QAGxD,0DAAsF;QAAtF,0MAAsF;QAKtF,0DAA4F;QAA5F,gNAA4F;;6FDHzF,kBAAkB;cAL9B,uDAAS;eAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,WAAW,EAAE,6BAA6B;gBAC1C,SAAS,EAAE,CAAC,6BAA6B,CAAC;aAC3C;;;;;;;;;;;;;;AETD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AAEkB;AACd;;;;AAMxC,MAAM,WAAW;IAoBtB,YACY,GAAe,EACf,MAAc;QADd,QAAG,GAAH,GAAG,CAAY;QACf,WAAM,GAAN,MAAM,CAAQ;QApBjB,eAAU,GAAG,YAAY,CAAC;QAC1B,eAAU,GAAG,oBAAoB,CAAC;QAClC,gBAAW,GAAG,IAAI,CAAC,UAAU,CAAC;QAChC,iBAAY,GAAyB,IAAI,oDAAe,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QAK7E,gBAAW,GAAW,IAAI,CAAC;IAa/B,CAAC;IAjBL,IAAW,WAAW;QACpB,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;IAC1C,CAAC;IAGD,IAAW,UAAU;QACnB,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;QAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IACD,IAAW,UAAU,CAAC,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACvB,CAAC;IAOM,KAAK,CAAC,OAAsB,EAAE,YAAY,GAAG,IAAI;QACtD,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC;aACtC,IAAI,CACD,0DAAG,CAAC,CAAC,OAA8B,EAAE,EAAE;YACnC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QAChD,CAAC,CAAC,EACF,iEAAU,CAAE,GAAG,CAAC,EAAE;YACd,OAAO,uDAAU,CAAC,GAAG,CAAC,CAAC;QAC3B,CAAC,CAAC,CACL,CAAC;IACR,CAAC;IAEM,YAAY,CAAC,IAAkB;QACpC,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IAC9C,CAAC;IAEM,WAAW,CAAC,IAAkB;QACnC,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;IAEM,EAAE;QACP,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,MAAM;QACX,OAAO,IAAI,+CAAU,CAAC,CAAC,QAAQ,EAAE,EAAE;YAC/B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpB,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC,IAAI,CACH,0DAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;YAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAC9C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;YAC7C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC,CAAC,CACL,CAAC;IACJ,CAAC;IAEM,YAAY;QACjB,OAAO,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAChG,CAAC;IAED,IAAW,OAAO;QAChB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE;YACtB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,EAAE;YACT,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAClD;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,aAAa,CAAC,OAA8B;QACjD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;QACjD,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACzC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;SAChD;IACH,CAAC;IAEO,kBAAkB,CAAC,OAA8B,EAAE,YAAY,GAAG,IAAI;QAC1E,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QAC/C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;QACjD,IAAI,YAAY,EAAE;YACd,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;YAC7C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;SAClD;IACL,CAAC;IAEO,iBAAiB,CAAC,GAAW,EAAE,KAAU;QAC/C,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;IAEO,iBAAiB,CAAC,GAAW;QACnC,OAAO,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;IAClD,CAAC;IAEO,eAAe,CAAC,GAAW,EAAE,KAAU;QAC7C,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;IAChD,CAAC;IAEO,eAAe,CAAC,GAAW;QACjC,OAAO,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;IAChD,CAAC;IAEO,cAAc,CAAC,OAAgB,EAAE,GAAW,EAAE,KAAU;QAC9D,MAAM,CAAC,GAAG,EAAC,KAAK,EAAC,CAAC;QAClB,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1C,CAAC;IAEO,cAAc,CAAC,OAAgB,EAAE,GAAW;QAClD,MAAM,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAClC,IAAI,CAAC,IAAI,EAAE;YACT,OAAO,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC;IAChC,CAAC;;sEA5HU,WAAW;8FAAX,WAAW,WAAX,WAAW,mBAFV,MAAM;6FAEP,WAAW;cAHvB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACRD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,MAAM,EAAE,4BAA4B;IACpC,KAAK,EAAE,wBAAwB;IAC/B,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACjBnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6D;AAEhC;AACY;AAIyB;;;;;;;;;;;;;ICa1D,8EAA2G;;;IAA1D,yEAAa;;;IAC9D,sEAAkC;IAAA,4DAAC;IAAA,4DAAM;;;IAIzC,8EAAqH;;;IAA1D,yEAAa;;;IACxE,sEAA4C;IAAA,4DAAC;IAAA,4DAAM;;;IAInD,8EAAqH;;;IAA1D,0EAAa;;;IACxE,sEAA4C;IAAA,4DAAC;IAAA,4DAAM;;;IAcjD,kFAKoB;;;;IAFlB,gFAAmB;;;;;IAfzB,wEACE;IAAA,qEAAI;IAAA,mEAAQ;IAAA,4DAAK;IACjB,yEACE;IAAA,yEACE;IAAA,0EACE;IAAA,+EAGA;IAAA;IAAA,4DAAW;IACb,4DAAO;IACP,wEAA+G;IAAxB,+TAAuB;IAAC,uEAAY;IAAA,4DAAI;IACjI,4DAAM;IACN,0JAKC;IACH,4DAAM;IACR,qEAAe;;;IAfmC,0DAAyB;IAAzB,yFAAyB;IAEjE,0DAAwG;IAAxG,kOAAwG;IAQ5G,0DAAgC;IAAhC,oFAAgC;;;IASlC,+EAIiB;;;IADf,0EAAa;;;IANnB,wEACE;IAAA,qEAAI;IAAA,gEAAK;IAAA,4DAAK;IACd,yEACE;IAAA,kJAIC;IACH,4DAAM;IACR,qEAAe;;;IAJT,0DAA0B;IAA1B,iFAA0B;;AD5C/B,MAAM,iBAAiB;IAe5B,YACU,cAA8B,EAC9B,GAAoB,EACpB,IAAiB,EACjB,WAA+B,EAC/B,EAAe;QAJf,mBAAc,GAAd,cAAc,CAAgB;QAC9B,QAAG,GAAH,GAAG,CAAiB;QACpB,SAAI,GAAJ,IAAI,CAAa;QACjB,gBAAW,GAAX,WAAW,CAAoB;QAC/B,OAAE,GAAF,EAAE,CAAa;QAhBlB,UAAK,GAAY,EAAE,CAAC;QAGpB,YAAO,GAAG,EAAE,CAAC;QAEb,iBAAY,GAAG,KAAK,CAAC;QACrB,aAAQ,GAAe,EAAE,CAAC;QAGzB,cAAS,GAAkB,IAAI,4CAAO,EAAE,CAAC;IAQ7C,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;QACxD,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YACxE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;QAC1D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,YAAY,CACnB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EACjB;YACE,QAAQ,EAAE,IAAI,CAAC,OAAO;SACvB,CACF,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;YACvB,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;QAC9B,CAAC,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE;YAC/E,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;gBACjE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;YAC7B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;gBAC/B,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;aACjE,CAAC,CAAC;SACJ;IACH,CAAC;IAED,WAAW;QACT,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;IAC5B,CAAC;IAED,QAAQ,CAAC,EAAU;QACjB,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;YAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;SACvB;QACD,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE;YACpC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAC/B;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE;YAC5B,OAAO;SACR;QACD,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAC9F,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;IACL,CAAC;;kFAvEU,iBAAiB;iGAAjB,iBAAiB;QCd9B,yEACE;QAAA,2EAA+B;QAC/B,yEACE;QAAA,6EACE;QAAA,oEACA;QAAA,wEACE;QAAA,uDACF;QAAA,4DAAK;QACL,oEACE;QAAA,uDAA2B;QAAA,gEAC3B;QAAA,wDAAoC;QAAA,iEACpC;QAAA,wDAAkC;QAAA,iEAClC;QAAA,wDAAuB;QAAA,iEACvB;QAAA,wDAAwD;QAAA,iEACxD;QAAA,wDAAyB;QAAA,iEACzB;QAAA,wDAAmC;QAAA,iEACnC;QAAA,wDAA8D;QAAA,iEAChE;QAAA,4DAAI;QACJ,sEAAI;QAAA,mEAAO;QAAA,4DAAK;QAChB,0EACE;QAAA,mIAA2F;QAC3F,+GAAkC;QACpC,4DAAM;QACN,sEAAI;QAAA,6EAAiB;QAAA,4DAAK;QAC1B,0EACE;QAAA,mIAAqG;QACrG,+GAA4C;QAC9C,4DAAM;QACN,sEAAI;QAAA,6EAAiB;QAAA,4DAAK;QAC1B,0EACE;QAAA,mIAAqG;QACrG,+GAA4C;QAC9C,4DAAM;QACN,kIACE;QAmBF,iIACE;QASJ,4DAAU;QACZ,4DAAM;QACR,4DAAM;;QA3DE,0DACF;QADE,gIACF;QAEE,0DAA2B;QAA3B,sGAA2B;QAC3B,0DAAoC;QAApC,+GAAoC;QACpC,0DAAkC;QAAlC,6GAAkC;QAClC,0DAAuB;QAAvB,kGAAuB;QACvB,0DAAwD;QAAxD,mIAAwD;QACxD,0DAAyB;QAAzB,oGAAyB;QACzB,0DAAmC;QAAnC,8GAAmC;QACnC,0DAA8D;QAA9D,yIAA8D;QAI/C,0DAAiC;QAAjC,qFAAiC;QAC3C,0DAA4B;QAA5B,0FAA4B;QAIlB,0DAA2C;QAA3C,+FAA2C;QACrD,0DAAsC;QAAtC,oGAAsC;QAI5B,0DAA2C;QAA3C,+FAA2C;QACrD,0DAAsC;QAAtC,oGAAsC;QAE/B,0DAAoB;QAApB,kFAAoB;QAoBpB,0DAAa;QAAb,2EAAa;;6FDvCpB,iBAAiB;cAL7B,uDAAS;eAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,4BAA4B;gBACzC,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;;;;;;;;;;;;;;AEbD;AAAA;AAAA;AAAA;AAA2C;;;AAQpC,MAAM,sBAAsB;IAEjC,YACU,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;IACvB,CAAC;IAEL,OAAO,CAAC,KAA6B,EAAE,KAA0B;QAC/D,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;IACxB,CAAC;;4FARU,sBAAsB;yGAAtB,sBAAsB,WAAtB,sBAAsB,mBAFrB,MAAM;6FAEP,sBAAsB;cAHlC,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACgB;;;;;;;;;AAU3D,MAAM,uBAAuB;IAIlC,YACU,EAAe,EACf,GAAoB,EACpB,MAAc,EACd,IAAiB;QAHjB,OAAE,GAAF,EAAE,CAAa;QACf,QAAG,GAAH,GAAG,CAAiB;QACpB,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAa;IACvB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7D,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;SAC9D,CAAC,CAAC;IACL,CAAC;IAED,IAAI;QACF,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YAClD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACL,CAAC;;8FAvBU,uBAAuB;uGAAvB,uBAAuB;QCXpC,yEACE;QAAA,2EAA+B;QAC/B,yEACE;QAAA,yEACE;QAAA,0EACE;QAAA,yEACE;QAAA,sEAGF;QAAA,4DAAM;QACN,yEACE;QAAA,yEAEuE;QACzE,4DAAM;QACN,yEACE;QAAA,wEAAwG;QAAjB,2IAAS,UAAM,IAAC;QAAC,kEAAM;QAAA,4DAAI;QACpH,4DAAM;QACR,4DAAO;QACT,4DAAM;QACR,4DAAM;QACR,4DAAM;;QAjB4C,0DAAkB;QAAlB,+EAAkB;QAGxD,0DAAsF;QAAtF,0MAAsF;QAKtF,0DAAoF;QAApF,wMAAoF;;6FDDnF,uBAAuB;cALnC,uDAAS;eAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,WAAW,EAAE,mCAAmC;gBAChD,SAAS,EAAE,CAAC,mCAAmC,CAAC;aACjD;;;;;;;;;;;;;;AEVD;AAAA;AAAA;AAAA;AAAA;AAA2C;AAIR;;;AAK5B,MAAM,eAAe;IAI1B,YACU,GAAe;QAAf,QAAG,GAAH,GAAG,CAAY;QAHhB,aAAQ,GAAG,QAAQ,CAAC;IAIzB,CAAC;IAEE,UAAU,CAAC,OAA2B;QAC3C,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAClB,IAAI,CAAC,QAAQ,EACb,OAAO,CACR,CAAC;IACJ,CAAC;IAEM,WAAW;QAChB,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CACvB,CAAC,IAAI,CACJ,0DAAG,CAAC,CAAC,QAAwB,EAAE,EAAE;YAC/B,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC9B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC;YAC7D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;;8EAzBU,eAAe;kGAAf,eAAe,WAAf,eAAe,mBAFd,MAAM;6FAEP,eAAe;cAH3B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACRD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkE;AAErC;AACY;;;;;;;;ICInC,uEAA6G;IAA7B,6TAA4B;IAAC,oEAAS;IAAA,4DAAI;;;;IAC1H,wEAAyH;IAAlC,kUAAiC;IAAC,oEAAS;IAAA,4DAAI;;ADGrI,MAAM,iBAAiB;IAU5B,YACU,IAAiB,EACjB,GAAoB;QADpB,SAAI,GAAJ,IAAI,CAAa;QACjB,QAAG,GAAH,GAAG,CAAiB;QAPvB,kBAAa,GAAG,KAAK,CAAC;QACtB,0BAAqB,GAAG,KAAK,CAAC;QAE7B,cAAS,GAAkB,IAAI,4CAAO,EAAE,CAAC;IAK7C,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YACnE,IAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;IAC5B,CAAC;IAED,YAAY,CAAC,IAAW;QACtB,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAC7C,IAAI,CAAC,kBAAkB,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;YAC5C,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,CAAC;YAChE,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,CAAC;YAChE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YACjD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,EAAE,GAAG,EAAE;YACN,KAAK,CAAC,QAAQ,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iBAAiB,CAAC,IAAW;QAC3B,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAClD,IAAI,CAAC,kBAAkB,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;YAC5C,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,CAAC;YAChE,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,CAAC;YAChE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YACjD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,EAAE,GAAG,EAAE;YACN,KAAK,CAAC,QAAQ,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,UAAU;QAChB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;YAClF,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;YACnC,OAAO;SACR;QACD,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;YACzG,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACvE,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC;IACnD,CAAC;;kFA7DU,iBAAiB;iGAAjB,iBAAiB;QCX9B,yEAEE;QAAA,yEACE;QAAA,wEAA2B;QAAA,kEAA4B;QAAA,uDAAoC;QAAA,4DAAK;QAChG,uDACA;QAAA,yEACE;QAAA,uEAAwE;QAAA,kEAA2B;QAAC,gEAAI;QAAA,4DAAI;QAC5G,2GAA6G;QAC7G,2GAAyH;QAC3H,4DAAM;QACR,4DAAM;QACR,4DAAM;;QARqD,0DAAoC;QAApC,oHAAoC;QAC3F,0DACA;QADA,wHACA;QACyC,0DAA+B;QAA/B,8GAA+B;QACZ,0DAAqB;QAArB,mFAAqB;QACtB,0DAA6B;QAA7B,2FAA6B;;6FDG/E,iBAAiB;cAL7B,uDAAS;eAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,4BAA4B;gBACzC,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;mNAGU,IAAI;kBAAZ,mDAAK;;;;;;;;;;;;;;AEbR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAErB;AACe;;;;;;;;ICIxC,8EAAoG;;;IAA1D,yEAAa;;;IADzD,yEACE;IAAA,uIAAoF;IACtF,4DAAM;;;IADW,0DAA0B;IAA1B,iFAA0B;;;;IAE3C,4EAGwD;IADtD,uTAAoB;IACkC,+DAAI;IAAA,4DAAS;;ADFhE,MAAM,iBAAiB;IAW5B,YACU,GAAoB;QAApB,QAAG,GAAH,GAAG,CAAiB;QAVvB,YAAO,GAAG,EAAE,CAAC;QACb,SAAI,GAA0B,IAAI,CAAC;QACnC,UAAK,GAAY,EAAE,CAAC;QACpB,eAAU,GAAG,EAAE,CAAC;QAEhB,eAAU,GAAG,CAAC,CAAC;QAEf,oBAAe,GAAkB,IAAI,4CAAO,EAAE,CAAC;IAIlD,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,mEAAY,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YAC1D,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,QAAQ;QACb,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,GAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,EAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAC5G,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBAClB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,QAAQ;QACd,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,EAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YACnF,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;YACd,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC;;kFArCU,iBAAiB;iGAAjB,iBAAiB;QCV9B,yEACE;QAAA,2EAA+B;QAC/B,0EACE;QAAA,2EACA;QADsD,yLAAwB,gGAAkB,0BAAsB,IAAxC;QAA9E,4DACA;QAAA,gEACF;QAAA,4DAAO;QACP,6GACE;QAEF,mHAGwD;QAC1D,4DAAM;;QAVoD,0DAAwB;QAAxB,mFAAwB;QAG3D,0DAAY;QAAZ,0EAAY;QAI/B,0DAAsC;QAAtC,4GAAsC;;6FDA7B,iBAAiB;cAL7B,uDAAS;eAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,4BAA4B;gBACzC,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;;;;;;;;;;;;;;AETD;AAAA;AAAA;AAAA;AAA2C;;;AAQpC,MAAM,mBAAmB;IAE9B,YACU,GAAoB;QAApB,QAAG,GAAH,GAAG,CAAiB;IAC1B,CAAC;IAEL,OAAO,CAAC,KAA6B,EAAE,KAA0B;QAE7D,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IAChC,CAAC;;sFATQ,mBAAmB;sGAAnB,mBAAmB,WAAnB,mBAAmB,mBAFlB,MAAM;6FAEP,mBAAmB;cAH/B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AAGK;AACb;;;AAK5B,MAAM,eAAe;IAI1B,YACU,GAAe;QAAf,QAAG,GAAH,GAAG,CAAY;QAHhB,aAAQ,GAAG,QAAQ,CAAC;IAIzB,CAAC;IAEE,QAAQ,CAAC,QAAqB,EAAE;QACrC,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CACjB,IAAI,CAAC,QAAQ,EACb;YACE,MAAM,EAAE,IAAI,+DAAU,CAAC;gBACrB,UAAU,EAAE,KAAY;aACzB,CAAC;SACH,CACF,CAAC;IACJ,CAAC;IAEM,YAAY,CAAC,MAAc,EAAE,QAAqB,EAAE;QACzD,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,QAAQ,EACzC;YACE,MAAM,EAAE,IAAI,+DAAU,CAAC;gBACrB,UAAU,EAAE,KAAY;aACzB,CAAC;SACH,CACF,CAAC,IAAI,CACJ,0DAAG,CAAC,CAAC,QAAwB,EAAE,EAAE;YAC/B,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC9B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC;YAC7D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAEM,OAAO,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC;IAC1C,CAAC;IAEM,YAAY,CAAC,MAAc;QAChC,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,GAAG,iBAAiB,CAAC,CAAC;IACnE,CAAC;IAEM,iBAAiB,CAAC,MAAc;QACrC,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,GAAG,sBAAsB,CAAC,CAAC;IACxE,CAAC;;8EA9CU,eAAe;kGAAf,eAAe,WAAf,eAAe,mBAFd,MAAM;6FAEP,eAAe;cAH3B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACRD;AAAA;AAAA;AAAA;AAA0C;;;AAOnC,MAAM,YAAY;IALzB;QAME,UAAK,GAAG,WAAW,CAAC;KACrB;;wEAFY,YAAY;4FAAZ,YAAY;QCPzB,2EAA+B;;6FDOlB,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACpC;;;;;;;;;;;;;;AEND;AAAA;AAAA;AAAA;AAA2C;;;AAOpC,MAAM,kBAAkB;IAI7B,YACU,GAAe;QAAf,QAAG,GAAH,GAAG,CAAY;QAHhB,aAAQ,GAAG,WAAW,CAAC;IAI5B,CAAC;IAEE,WAAW,CAAC,MAAc;QAC/B,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC;IAC9C,CAAC;IAEM,WAAW,CAAC,MAAc,EAAE,OAAe;QAChD,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,EAAE;YAC3C,OAAO,EAAE,OAAO;SACjB,CAAC,CAAC;IACL,CAAC;;oFAhBU,kBAAkB;qGAAlB,kBAAkB,WAAlB,kBAAkB,mBAFjB,MAAM;6FAEP,kBAAkB;cAH9B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACND;AAAA;AAAA;AAAuD;;AAOhD,MAAM,iBAAiB;IAI5B,gBAAgB,CAAC;IAEjB,QAAQ;IACR,CAAC;;kFAPU,iBAAiB;iGAAjB,iBAAiB;QCP9B,yEACE;QAAA,yEACE;QAAA,wEAA2B;QAAA,uDAAc;QAAA,4DAAK;QAC9C,sEAAK;QAAA,uDAA4E;QAAA,4DAAM;QACvF,sEAAK;QAAA,uDAAkB;QAAA,4DAAM;QAC7B,sEAAK;QAAA,uDAAa;QAAA,4DAAM;QAC1B,4DAAM;QACR,4DAAM;;QALyB,0DAAc;QAAd,+EAAc;QACpC,0DAA4E;QAA5E,8JAA4E;QAC5E,0DAAkB;QAAlB,mFAAkB;QAClB,0DAAa;QAAb,8EAAa;;6FDET,iBAAiB;cAL7B,uDAAS;eAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,4BAA4B;gBACzC,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;sCAGU,IAAI;kBAAZ,mDAAK;;;;;;;;;;;;;;AETR;AAAA;AAAA;AAAA;AAAA;AAA2C;;;;AAkBpC,MAAM,mBAAmB;IAE9B,YAAoB,IAAiB,EAAU,MAAc;QAAzC,SAAI,GAAJ,IAAI,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAEjE,WAAW,CACT,IAA4B,EAC5B,KAA0B;QAC1B,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;IACpB,CAAC;IACD,gBAAgB,CACd,IAA4B,EAC5B,KAA0B;QAC1B,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;IACpB,CAAC;IACD,OAAO,CACL,KAAY,EACZ,QAAsB;QACtB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC5D;QACD,OAAO,GAAG,CAAC;IACb,CAAC;IAEO,GAAG;QACT,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACrC,IAAI,CAAC,GAAG,EAAE;YACN,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;SACvC;QACD,OAAO,GAAG,CAAC;IACb,CAAC;;sFA9BU,mBAAmB;sGAAnB,mBAAmB,WAAnB,mBAAmB,mBAFlB,MAAM;6FAEP,mBAAmB;cAH/B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACjB;AAEe;AACT;AACC;AAC0B;AACK;AACA;AACL;AACL;AACQ;AACb;AACkC;AACD;AAClB;AACL;AACoB;AACS;AACf;;AA6BjF,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBAHT,EAAE,YAPJ;YACP,uEAAa;YACb,oEAAgB;YAChB,4DAAU;YACV,2DAAW;YACX,mEAAmB;SACpB;mIAIU,SAAS,mBAzBlB,2DAAY;QACZ,sFAAiB;QACjB,2FAAiB;QACjB,2FAAiB;QACjB,sFAAiB;QACjB,iFAAgB;QAChB,0FAAkB;QAClB,+GAAyB;QACzB,8GAAwB;QACxB,4FAAiB;QACjB,uFAAiB;QACjB,2GAAuB;QACvB,oHAA0B;QAC1B,qGAAoB,aAGpB,uEAAa;QACb,oEAAgB;QAChB,4DAAU;QACV,2DAAW;QACX,mEAAmB;6FAKV,SAAS;cA3BrB,sDAAQ;eAAC;gBACR,YAAY,EAAE;oBACZ,2DAAY;oBACZ,sFAAiB;oBACjB,2FAAiB;oBACjB,2FAAiB;oBACjB,sFAAiB;oBACjB,iFAAgB;oBAChB,0FAAkB;oBAClB,+GAAyB;oBACzB,8GAAwB;oBACxB,4FAAiB;oBACjB,uFAAiB;oBACjB,2GAAuB;oBACvB,oHAA0B;oBAC1B,qGAAoB;iBACrB;gBACD,OAAO,EAAE;oBACP,uEAAa;oBACb,oEAAgB;oBAChB,4DAAU;oBACV,2DAAW;oBACX,mEAAmB;iBACpB;gBACD,SAAS,EAAE,EAAE;gBACb,SAAS,EAAE,CAAC,2DAAY,CAAC;aAC1B;;;;;;;;;;;;;;AC/CD;AAAA;AAAA;AAAuD;;AAOhD,MAAM,oBAAoB;IAK/B,gBAAgB,CAAC;IAEjB,QAAQ;IACR,CAAC;;wFARU,oBAAoB;oGAApB,oBAAoB;QCPjC,yEACE;QAAA,yEACE;QAAA,sEAAK;QAAA,uDAAmE;QAAA,4DAAM;QAC9E,sEAAK;QAAA,uDAAqB;QAAA,4DAAM;QAChC,sEAAK;QAAA,uDAAmB;QAAA,4DAAM;QAChC,4DAAM;QACR,4DAAM;;QAJG,0DAAmE;QAAnE,qJAAmE;QACnE,0DAAqB;QAArB,sFAAqB;QACrB,0DAAmB;QAAnB,oFAAmB;;6FDGf,oBAAoB;cALhC,uDAAS;eAAC;gBACT,QAAQ,EAAE,kBAAkB;gBAC5B,WAAW,EAAE,+BAA+B;gBAC5C,SAAS,EAAE,CAAC,+BAA+B,CAAC;aAC7C;sCAGU,OAAO;kBAAf,mDAAK;YACG,MAAM;kBAAd,mDAAK;;;;;;;;;;;;;;AEVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2D;AACO;;;;;;;AAS3D,MAAM,yBAAyB;IAIpC,YACU,EAAe,EACf,IAAiB,EACjB,MAAc;QAFd,OAAE,GAAF,EAAE,CAAa;QACf,SAAI,GAAJ,IAAI,CAAa;QACjB,WAAM,GAAN,MAAM,CAAQ;IACpB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7D,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAChE,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YACjE,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAChE,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5D,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;YAClE,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,yDAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACzE,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YAClC,QAAQ,EAAE,CAAC,IAAI,CAAC;SACjB,CAAC,CAAC;IACL,CAAC;IAED,YAAY;QACV,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACrB,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YACrD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACtC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;;YACT,MAAM,KAAK,SAAG,GAAG,CAAC,KAAK,0CAAE,KAAK,CAAC;YAC/B,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC;;kGAlCU,yBAAyB;yGAAzB,yBAAyB;QCVtC,yEACE;QAAA,yEACE;QAAA,oEACA;QAAA,0EACE;QAAA,yEACE;QAAA,sEAGF;QAAA,4DAAM;QACN,yEACE;QAAA,sEAGF;QAAA,4DAAM;QACN,yEACE;QAAA,sEAGF;QAAA,4DAAM;QACN,0EACE;QAAA,uEAGF;QAAA,4DAAM;QACN,0EACE;QAAA,uEAGF;QAAA,4DAAM;QACN,0EACE;QAAA,wEAGF;QAAA,4DAAM;QACN,0EACE;QAAA,8EAGE;QAAA,8EAAqB;QAAA,gEAAI;QAAA,4DAAS;QAClC,8EAAuB;QAAA,kEAAM;QAAA,4DAAS;QACxC,4DAAS;QACX,4DAAM;QACN,0EACE;QAAA,2EAEoG;QACtG,4DAAM;QACN,2EACG;QAAA,6EAA6B;QAAA,wEAAmD;QAAA,2EAAc;QAAA,4DAAQ;QACzG,4DAAM;QACN,0EACE;QAAA,yEAAgH;QAAzB,6IAAS,kBAAc,IAAC;QAAC,wEAAY;QAAA,4DAAI;QAClI,4DAAM;QACN,0EACE;QAAA,yEAAwF;QAAA,iEAAK;QAAA,4DAAI;QACnG,4DAAM;QACR,4DAAO;QACT,4DAAM;QACR,4DAAM;;QAvD0C,0DAAkB;QAAlB,+EAAkB;QAGxD,0DAAsF;QAAtF,0MAAsF;QAKtF,0DAA4F;QAA5F,iNAA4F;QAK5F,0DAA8F;QAA9F,mNAA8F;QAK9F,0DAA4F;QAA5F,iNAA4F;QAK5F,0DAAoF;QAApF,yMAAoF;QAKpF,0DAAkF;QAAlF,uMAAkF;QAKlF,0DAAkF;QAAlF,uMAAkF;QAQlF,0DAA8F;QAA9F,mNAA8F;;6FDlC3F,yBAAyB;cALrC,uDAAS;eAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,WAAW,EAAE,oCAAoC;gBACjD,SAAS,EAAE,CAAC,oCAAoC,CAAC;aAClD;;;;;;;;;;;;;;AETD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6D;AAEhC;AACY;;;;;;ICGrC,yEACE;IAAA,wEAA8B;IAAA,uEAAY;IAAA,4DAAI;IAChD,4DAAK;;;IACL,yEACE;IAAA,wEAAuB;IAAA,gEAAK;IAAA,4DAAI;IAClC,4DAAK;;;;IACL,wEACE;IAAA,wEAAwC;IAAA,kEAAO;IAAA,4DAAI;IACrD,4DAAK;;;IAF+C,0JAA2C;IAC1F,0DAAoC;IAApC,sHAAoC;;;IAEzC,yEACE;IAAA,wEAAyB;IAAA,kEAAO;IAAA,4DAAI;IACtC,4DAAK;;;IACL,qEACE;IAAA,wEAA6B;IAAA,sEAAW;IAAA,4DAAI;IAC9C,4DAAK;;;IACL,qEACE;IAAA,wEAAsB;IAAA,+DAAI;IAAA,4DAAI;IAChC,4DAAK;;;;IACL,qEACE;IAAA,wEAAyC;IAAnB,gTAAkB;IAAC,iEAAM;IAAA,4DAAI;IACrD,4DAAK;;;IAWH,yEACE;IAAA,wEAA8B;IAAA,uEAAY;IAAA,4DAAI;IAChD,4DAAK;;;IACL,yEACE;IAAA,wEAAuB;IAAA,gEAAK;IAAA,4DAAI;IAClC,4DAAK;;;IACL,wEACE;IAAA,wEAAwC;IAAA,kEAAO;IAAA,4DAAI;IACrD,4DAAK;;;IAF+C,0JAA2C;IAC1F,0DAAoC;IAApC,sHAAoC;;;IAEzC,yEACE;IAAA,wEAAyB;IAAA,kEAAO;IAAA,4DAAI;IACtC,4DAAK;;;IACL,qEACE;IAAA,wEAA6B;IAAA,sEAAW;IAAA,4DAAI;IAC9C,4DAAK;;;IACL,qEACE;IAAA,wEAAsB;IAAA,+DAAI;IAAA,4DAAI;IAChC,4DAAK;;;;IACL,qEACE;IAAA,wEAAyC;IAAnB,gTAAkB;IAAC,iEAAM;IAAA,4DAAI;IACrD,4DAAK;;AD/CJ,MAAM,iBAAiB;IAO5B,YACU,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;QANnB,cAAS,GAAkB,IAAI,4CAAO,EAAE,CAAC;IAO7C,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QAC3C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YACnE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;YAC3C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;IAC5B,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;IACzC,CAAC;;kFA3BU,iBAAiB;iGAAjB,iBAAiB;QCV9B,yEACE;QAAA,uEAA0D;QAAA,yEAAc;QAAA,4DAAI;QAC5E,wEACE;QAAA,wEACE;QAAA,uEAAkB;QAAA,mEAAQ;QAAA,4DAAI;QAChC,4DAAK;QACL,2GACE;QAEF,2GACE;QAEF,2GACE;QAEF,6GACE;QAEF,6GACE;QAEF,6GACE;QAEF,6GACE;QAEJ,4DAAK;QACL,mEAAqF;QACrF,0EAA+D;QAAA,0EAAc;QAAA,4DAAM;QACrF,4DAAM;QACN,2EACE;QAAA,2EACE;QAAA,0EACE;QAAA,yEACE;QAAA,wEAAkB;QAAA,oEAAQ;QAAA,4DAAI;QAChC,4DAAK;QACL,6GACE;QAEF,6GACE;QAEF,6GACE;QAEF,6GACE;QAEF,6GACE;QAEF,6GACE;QAEF,6GACE;QAEJ,4DAAK;QACP,4DAAM;QACR,4DAAM;;QAzD+B,0DAA2C;QAA3C,2JAA2C;QAG3C,0DAAmB;QAAnB,iFAAmB;QAGnB,0DAAmB;QAAnB,iFAAmB;QAGnB,0DAAkB;QAAlB,gFAAkB;QAGlB,0DAAkB;QAAlB,gFAAkB;QAG/C,0DAAkB;QAAlB,gFAAkB;QAGlB,0DAAkB;QAAlB,gFAAkB;QAGlB,0DAAkB;QAAlB,gFAAkB;QAUa,0DAA2C;QAA3C,2JAA2C;QAG3C,0DAAmB;QAAnB,iFAAmB;QAGnB,0DAAmB;QAAnB,iFAAmB;QAGnB,0DAAkB;QAAlB,gFAAkB;QAGlB,0DAAkB;QAAlB,gFAAkB;QAG/C,0DAAkB;QAAlB,gFAAkB;QAGlB,0DAAkB;QAAlB,gFAAkB;QAGlB,0DAAkB;QAAlB,gFAAkB;;6FD7Cf,iBAAiB;cAL7B,uDAAS;eAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,4BAA4B;gBACzC,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;;;;;;;;;;;;;;AETD;AAAA;AAAA;AAAkD;;AAO3C,MAAM,iBAAiB;IAE5B,gBAAgB,CAAC;IAEjB,QAAQ;IACR,CAAC;;kFALU,iBAAiB;iGAAjB,iBAAiB;QCP9B,oEAAG;QAAA,2EAAgB;QAAA,4DAAI;;6FDOV,iBAAiB;cAL7B,uDAAS;eAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,4BAA4B;gBACzC,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;;;;;;;;;;;;;;AEND;AAAA;AAAA;AAAA;AAA2C;;;AAQpC,MAAM,mBAAmB;IAE9B,YACU,GAAoB;QAApB,QAAG,GAAH,GAAG,CAAiB;IAC1B,CAAC;IAEL,OAAO,CAAC,KAA6B,EAAE,KAA0B;QAC/D,MAAM,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;IACtC,CAAC;;sFATU,mBAAmB;sGAAnB,mBAAmB,WAAnB,mBAAmB,mBAFlB,MAAM;6FAEP,mBAAmB;cAH/B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACK;AAC4C;AACrB;AACZ;AACJ;AACQ;AACN;AACM;;AAqB5D,MAAM,UAAU;;yFAAV,UAAU;8IAAV,UAAU,mBAVV;QACT,gEAAU;QACV,EAAC,OAAO,EAAE,sEAAiB,EAAE,QAAQ,EAAE,uFAAqB,EAAE,KAAK,EAAE,IAAI,EAAC;QAC1E,2EAAe;QACf,2EAAe;QACf,uEAAc;QACd,iFAAmB;QACnB,iFAAkB;KACnB,YAbQ;YACP,4DAAY;YACZ,qEAAgB;YAChB,0EAAqB;SACtB;mIAWU,UAAU,cAdnB,4DAAY;QACZ,qEAAgB;QAChB,0EAAqB;6FAYZ,UAAU;cAjBtB,sDAAQ;eAAC;gBACR,YAAY,EAAE,EAAE;gBAChB,OAAO,EAAE;oBACP,4DAAY;oBACZ,qEAAgB;oBAChB,0EAAqB;iBACtB;gBACD,SAAS,EAAE;oBACT,gEAAU;oBACV,EAAC,OAAO,EAAE,sEAAiB,EAAE,QAAQ,EAAE,uFAAqB,EAAE,KAAK,EAAE,IAAI,EAAC;oBAC1E,2EAAe;oBACf,2EAAe;oBACf,uEAAc;oBACd,iFAAmB;oBACnB,iFAAkB;iBACnB;aACF;;;;;;;;;;;;;;AC7BD;AAAA;AAAA;AAAA;AAAA;AAA2C;AAEmB;;;AAMvD,MAAM,UAAU;IAIrB,YACY,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAExB,IAAI,CAAC,MAAM,GAAG,qEAAW,CAAC,MAAM,CAAC;IACrC,CAAC;IAED;;OAEG;IACI,OAAO,CAAC,OAAyB;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,GAAW,EAAE,QAAgB;QACtC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,QAAQ,CAAC,CAAC;IACxD,CAAC;IAED;;OAEG;IACI,GAAG,CAAC,GAAW,EAAE,UAAe,EAAE;QACrC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC;IACrD,CAAC;IAED;;OAEG;IACI,IAAI,CAAC,GAAW,EAAE,OAAY,IAAI,EAAE,UAAe,EAAE;QACxD,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IAC5D,CAAC;IAED;;OAEG;IACI,GAAG,CAAC,GAAW,EAAE,IAAS,EAAE,UAAe,EAAE;QAChD,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,CAAC;IAED;;OAEG;IACI,MAAM,CAAC,GAAW,EAAE,UAAe,EAAE;QACxC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,GAAW,EAAE,IAAS,EAAE,UAAe,EAAE;QAClD,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IAC7D,CAAC;IAED;;OAEG;IACI,OAAO,CAAC,GAAW,EAAE,UAAe,EAAE;QACzC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;IAED;;OAEG;IACI,IAAI,CAAC,GAAW,EAAE,UAAe,EAAE;QACtC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC;IACtD,CAAC;IAEO,WAAW,CAAC,GAAW;QAC3B,MAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,IAAI,KAAK,GAAG,EAAE;YACd,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACtC;QAED,OAAO,GAAG,CAAC;IACf,CAAC;;oEAxFU,UAAU;6FAAV,UAAU,WAAV,UAAU,mBAFT,MAAM;6FAEP,UAAU;cAHtB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAAkD;;;AAO3C,MAAM,gBAAgB;IAE3B,gBAAgB,CAAC;IAEjB,QAAQ;IACR,CAAC;;gFALU,gBAAgB;gGAAhB,gBAAgB;QCP7B,yEACE;QAAA,2EAA+B;QAC/B,yEAAqB;QAAA,yEAAc;QAAA,4DAAM;QAC3C,4DAAM;;6FDIO,gBAAgB;cAL5B,uDAAS;eAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,WAAW,EAAE,0BAA0B;gBACvC,SAAS,EAAE,CAAC,0BAA0B,CAAC;aACxC;;;;;;;;;;;;;;AEND;AAAA;AAAA;AAAA;AAAA;AAA2C;;;;AAkBpC,MAAM,cAAc;IAEzB,YAAoB,IAAiB,EAAU,MAAc;QAAzC,SAAI,GAAJ,IAAI,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAEjE,WAAW,CACP,IAA4B,EAC5B,KAA0B;QAC1B,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;IACtB,CAAC;IACD,gBAAgB,CACZ,IAA4B,EAC5B,KAA0B;QAC1B,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;IACtB,CAAC;IACD,OAAO,CACH,KAAY,EACZ,QAAsB;QACtB,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;IACtB,CAAC;IAEO,GAAG;QACP,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACtC,IAAI,CAAC,GAAG,EAAE;YACN,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;SAClC;QACD,OAAO,GAAG,CAAC;IACf,CAAC;;4EA1BU,cAAc;iGAAd,cAAc,WAAd,cAAc,mBAFb,MAAM;6FAEP,cAAc;cAH1B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACmB;AACA;AACG;AACV;AACU;AACb;AACgC;AACD;AACvB;AACS;AACW;AACS;AAC1B;;;AAE3E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAG,EAAE;QACT,SAAS,EAAE,sFAAiB;QAC5B,SAAS,EAAE,MAAM;KAClB;IACD;QACE,IAAI,EAAG,WAAW;QAClB,SAAS,EAAE,sFAAiB;QAC5B,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE;YACP,SAAS,EAAE,yFAAmB;SAC/B;KACF;IACD;QACE,IAAI,EAAG,OAAO;QACd,SAAS,EAAE,yFAAkB;QAC7B,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE,CAAC,4EAAc,CAAC;QACzB,WAAW,EAAE,CAAC,4EAAc,CAAC;QAC7B,gBAAgB,EAAE,CAAC,4EAAc,CAAC;KACnC;IACD;QACE,IAAI,EAAG,cAAc;QACrB,SAAS,EAAE,8GAAyB;QACpC,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE,CAAC,4EAAc,CAAC;QACzB,WAAW,EAAE,CAAC,4EAAc,CAAC;QAC7B,gBAAgB,EAAE,CAAC,4EAAc,CAAC;KACnC;IACD;QACE,IAAI,EAAG,SAAS;QAChB,SAAS,EAAE,6GAAwB;QACnC,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE,CAAC,uFAAmB,CAAC;QAC9B,WAAW,EAAE,CAAC,uFAAmB,CAAC;QAClC,gBAAgB,EAAE,CAAC,uFAAmB,CAAC;QACvC,OAAO,EAAE;YACP,SAAS,EAAE,gGAAsB;SAClC;KACF;IACD;QACE,IAAI,EAAG,aAAa;QACpB,SAAS,EAAE,2GAAuB;QAClC,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE,CAAC,uFAAmB,CAAC;QAC9B,WAAW,EAAE,CAAC,uFAAmB,CAAC;QAClC,gBAAgB,EAAE,CAAC,uFAAmB,CAAC;KACxC;IACD;QACE,IAAI,EAAG,MAAM;QACb,SAAS,EAAE,oHAA0B;QACrC,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE,CAAC,uFAAmB,CAAC;QAC9B,WAAW,EAAE,CAAC,uFAAmB,CAAC;QAClC,gBAAgB,EAAE,CAAC,uFAAmB,CAAC;QACvC,OAAO,EAAE;YACP,IAAI,EAAE,0FAAmB;SAC1B;KACF;IACD;QACE,IAAI,EAAG,IAAI;QACX,SAAS,EAAE,iFAAgB;KAC5B;CACF,CAAC;AAMK,MAAM,gBAAgB;;+FAAhB,gBAAgB;0JAAhB,gBAAgB,kBAHlB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAC7B,4DAAY;mIAEX,gBAAgB,uFAFjB,4DAAY;6FAEX,gBAAgB;cAJ5B,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACvC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACrFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqD;AAGR;AACN;AACK;;AAKrC,MAAM,qBAAqB;IAEhC,YACY,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;IAC1B,CAAC;IAEL,SAAS,CAAC,GAAqB,EAAE,IAAiB;QAC9C,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,yDAAW,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,sDAAM,CAAC,CAAC;QACzC,MAAM,OAAO,GAAI,IAAI,CAAC,OAAO,CAAC;QAC9B,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;QAC7C,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAChC,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAC1B,iEAAU,CAAC,CAAC,KAAwB,EAAE,EAAE;YACtC,IAAI,KAAK,CAAC,MAAM,KAAK,GAAG,EAAE;gBACxB,IAAI,CAAC,MAAM,EAAE,CAAC;aACf;YACD,IAAI,KAAK,CAAC,MAAM,KAAK,GAAG,EAAE;gBACxB,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;aAC3B;YACD,MAAM,KAAK,CAAC;QACd,CAAC,CAAC,CACH,CAAC;IACN,CAAC;IAED,QAAQ,CAAC,GAAqB,EAAE,KAAkB;QAC9C,MAAM,cAAc,GAAQ,EAAE,CAAC;QAC/B,IAAI,GAAG,CAAC,IAAI,EAAE;YACV,cAAc,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;SAClC;QACD,IAAI,KAAK,EAAE;YACP,cAAc,CAAC,UAAU,GAAG;gBACxB,aAAa,EAAE,SAAS,GAAG,KAAK;aACnC,CAAC;SACL;QACD,OAAO,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;IACrC,CAAC;;0FApCU,qBAAqB;wGAArB,qBAAqB,WAArB,qBAAqB,mBAFpB,MAAM;6FAEP,qBAAqB;cAHjC,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACTD;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,gBAAgB,CAAC,0DAAU;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;ACXpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {AuthService} from '../../core/services/auth.service';\n\n@Component({\n  selector: 'app-profile-edit-page',\n  templateUrl: './profile-edit-page.component.html',\n  styleUrls: ['./profile-edit-page.component.scss']\n})\nexport class ProfileEditPageComponent implements OnInit {\n\n  public data: IUserFullData;\n\n  public form: FormGroup;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private fb: FormBuilder,\n    private auth: AuthService\n  ) { }\n\n  ngOnInit(): void {\n    this.data = this.activatedRoute.snapshot.data.user_data;\n    this.initForm();\n  }\n\n  save(): void {\n    if (this.form.invalid) {\n      return;\n    }\n    this.auth.saveProfile(this.form.value).subscribe((r) => {\n      this.data.user = r;\n      this.initForm();\n    }, (err) => {\n      const error = err.error?.error;\n      alert(error ? error : 'Error!');\n    });\n  }\n\n  private initForm(): void {\n    this.form = this.fb.group({\n      Login: [this.data.user.Login, [Validators.required, Validators.maxLength(255)]],\n      Password: ['', [Validators.maxLength(255)]],\n      FirstName: [this.data.user.FirstName, [Validators.required, Validators.maxLength(255)]],\n      LastName: [this.data.user.LastName, [Validators.required, Validators.maxLength(255)]],\n      City: [this.data.user.City, [Validators.required, Validators.maxLength(255)]],\n      Interests: [this.data.user.Interests, [Validators.required, Validators.maxLength(4096)]],\n      Age: [this.data.user.Age, [Validators.required, Validators.min(18), Validators.max(150)]],\n      Sex: [this.data.user.Sex, [Validators.required]],\n      IsPublic: [this.data.user.IsPublic],\n    });\n  }\n\n}\n","<div class=\"uk-container uk-container-center uk-margin-top uk-margin-large-bottom\">\n  <app-main-menu></app-main-menu>\n  <div class=\"uk-grid\">\n    <div class=\"uk-width-1-2\">\n      <form class=\"uk-panel uk-panel-box uk-form\" [formGroup]=\"form\">\n        <div class=\"uk-form-row\">\n          <input\n            [ngClass]=\"{'uk-form-danger': form.get('Login').invalid && form.get('Login').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"Login\" formControlName=\"Login\">\n        </div>\n        <div class=\"uk-form-row\">\n          <input\n            [ngClass]=\"{'uk-form-danger': form.get('Password').invalid && form.get('Password').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" type=\"password\" placeholder=\"Password\" formControlName=\"Password\">\n        </div>\n        <div class=\"uk-form-row\">\n          <input\n            [ngClass]=\"{'uk-form-danger': form.get('FirstName').invalid && form.get('FirstName').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"First name\" formControlName=\"FirstName\">\n        </div>\n        <div class=\"uk-form-row\">\n          <input\n            [ngClass]=\"{'uk-form-danger': form.get('LastName').invalid && form.get('LastName').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"Last name\" formControlName=\"LastName\">\n        </div>\n        <div class=\"uk-form-row\">\n          <input\n            [ngClass]=\"{'uk-form-danger': form.get('City').invalid && form.get('City').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"City\" formControlName=\"City\">\n        </div>\n        <div class=\"uk-form-row\">\n          <input\n            [ngClass]=\"{'uk-form-danger': form.get('Age').invalid && form.get('Age').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" type=\"number\" placeholder=\"Age\" formControlName=\"Age\">\n        </div>\n        <div class=\"uk-form-row\">\n          <select\n            [ngClass]=\"{'uk-form-danger': form.get('Sex').invalid && form.get('Sex').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" type=\"number\" placeholder=\"Sex\" formControlName=\"Sex\">\n            <option value=\"male\">Male</option>\n            <option value=\"female\">Female</option>\n          </select>\n        </div>\n        <div class=\"uk-form-row\">\n        <textarea\n          [ngClass]=\"{'uk-form-danger': form.get('Interests').invalid && form.get('Interests').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" placeholder=\"Interests\" formControlName=\"Interests\"></textarea>\n        </div>\n        <div class=\"uk-form-row uk-text-small\">\n          <label class=\"uk-float-left\"><input type=\"checkbox\" formControlName=\"IsPublic\"> public profile</label>\n        </div>\n        <div class=\"uk-form-row \">\n          <a class=\"uk-width-1-1 uk-button uk-button-primary uk-button-large\" href=\"JavaScript:\" (click)=\"save()\">Save</a>\n        </div>\n\n      </form>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {environment} from '../../../environments/environment';\r\nimport {AuthService} from '../../core/services/auth.service';\r\n\r\ndeclare var io;\r\n\r\nlet eventsCreated = false;\r\n\r\n@Component({\r\n  selector: 'app-feed-page-component',\r\n  templateUrl: './feed-page-component.component.html',\r\n  styleUrls: ['./feed-page-component.component.scss']\r\n})\r\nexport class FeedPageComponentComponent implements OnInit, OnDestroy {\r\n\r\n  public postsResponse: IPostsResponse;\r\n  public socket: any;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private auth: AuthService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.socket = io(environment.wsUrl, {\r\n      transports: ['websocket']\r\n    });\r\n    this.socket.connect();\r\n    if (!eventsCreated) {\r\n\r\n      this.socket.on('connect', () => {\r\n        console.log('user connected');\r\n        this.socket.emit('authorization', this.auth.payload.token);\r\n      });\r\n\r\n      this.socket.on('disconnect', () => {\r\n        console.log('user disconnected');\r\n      });\r\n\r\n      this.socket.on('new_post_for_feed', (res: IPostsResponse) => {\r\n        console.log('new post: ', res);\r\n        const post = res.items[0];\r\n        post.user = res.users[0];\r\n        this.postsResponse.items.unshift(post);\r\n      });\r\n      eventsCreated = true;\r\n    }\r\n    this.postsResponse = this.activatedRoute.snapshot.data.feed;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.socket) {\r\n      console.log('disconnect');\r\n      this.socket.disconnect();\r\n      this.socket.destroy();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"uk-container uk-container-center uk-margin-top uk-margin-large-bottom\">\n  <app-main-menu></app-main-menu>\n  <h2>Feed</h2>\n  <div class=\"uk-grid\">\n    <app-post-card\n      class=\"uk-width-1-1\"\n      *ngFor=\"let post of postsResponse.items\"\n      [post]=\"post\"\n    ></app-post-card>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { Router } from '@angular/router';\nimport {AuthService} from '../../core/services/auth.service';\n\n@Component({\n  selector: 'app-login-page',\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.scss']\n})\nexport class LoginPageComponent implements OnInit {\n\n  public form: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private auth: AuthService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.form = this.fb.group({\n      Login: ['', [Validators.required, Validators.maxLength(255)]],\n      Password: ['', [Validators.required, Validators.maxLength(255)]],\n      Remember: [true],\n    });\n  }\n\n  login(): void {\n    if (this.form.invalid) {\n      return;\n    }\n    this.auth.login({\n      Login: this.form.value.Login,\n      Password: this.form.value.Password,\n    }, this.form.value.Remember).subscribe(() => {\n      this.router.navigateByUrl('/');\n    }, () => {\n      alert('Error!');\n    });\n  }\n\n}\n","<div class=\"uk-vertical-align uk-text-center uk-height-1-1\">\n  <div class=\"uk-vertical-align-middle\" style=\"width: 250px;\">\n\n    <img class=\"uk-margin-bottom\" width=\"140\" height=\"120\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwcHgiIGhlaWdodD0iMTIwcHgiIHZpZXdCb3g9Ii0yOS41IDI3NS41IDE0MCAxMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTI5LjUgMjc1LjUgMTQwIDEyMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8ZyBvcGFjaXR5PSIwLjciPg0KCTxwYXRoIGZpbGw9IiNEOEQ4RDgiIGQ9Ik0tNi4zMzMsMjk4LjY1NHY3My42OTFoOTMuNjY3di03My42OTFILTYuMzMzeiBNNzkuNzg4LDM2NC4zNTVIMS42NTZ2LTU3LjcwOWg3OC4xMzJWMzY0LjM1NXoiLz4NCgk8cG9seWdvbiBmaWxsPSIjRDhEOEQ4IiBwb2ludHM9IjUuODYsMzU4LjE0MSAyMS45NjIsMzQxLjIxNiAyNy45OTUsMzQzLjgyNyA0Ny4wMzIsMzIzLjU2MSA1NC41MjQsMzMyLjUyMyA1Ny45MDUsMzMwLjQ4IA0KCQk3Ni4yMDMsMzU4LjE0MSAJIi8+DQoJPGNpcmNsZSBmaWxsPSIjRDhEOEQ4IiBjeD0iMjQuNDYyIiBjeT0iMzIxLjMyMSIgcj0iNy4wMzQiLz4NCjwvZz4NCjwvc3ZnPg0K\" alt=\"\">\n\n    <form class=\"uk-panel uk-panel-box uk-form\" [formGroup]=\"form\">\n      <div class=\"uk-form-row\">\n        <input\n          [ngClass]=\"{'uk-form-danger': form.get('Login').invalid && form.get('Login').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"Login\" formControlName=\"Login\">\n      </div>\n      <div class=\"uk-form-row\">\n        <input\n          [ngClass]=\"{'uk-form-danger': form.get('Password').invalid && form.get('Password').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"password\" placeholder=\"Password\" formControlName=\"Password\">\n      </div>\n      <div class=\"uk-form-row\">\n        <a class=\"uk-width-1-1 uk-button uk-button-primary uk-button-large\" href=\"JavaScript:\" (click)=\"login()\">Login</a>\n      </div>\n      <div class=\"uk-form-row uk-text-small\">\n        <label class=\"uk-float-left\"><input type=\"checkbox\" formControlName=\"Remember\"> Remember Me</label>\n      </div>\n      <div class=\"uk-form-row \">\n        <a class=\"uk-width-1-1 uk-button uk-button-primary uk-button-large\" routerLink=\"/registration\">Registration</a>\n      </div>\n    </form>\n\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\r\nimport { ApiService } from './api.service';\r\nimport {BehaviorSubject, Observable, throwError} from 'rxjs';\r\nimport {catchError, tap} from 'rxjs/operators';\r\nimport {Router} from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  readonly cookieName = 'OTUS_SN_VK';\r\n  readonly payloadKey = 'otus_sn_vk_payload';\r\n  readonly storageName = this.cookieName;\r\n  public authorized$$: BehaviorSubject<any> = new BehaviorSubject(this.isAuthorized());\r\n  public get authorized$(): Observable<any> {\r\n    return this.authorized$$.asObservable();\r\n  }\r\n\r\n  private storedPath_: string = null;\r\n  public get storedPath() {\r\n    const path = this.storedPath_;\r\n    this.storedPath_ = null;\r\n    return path;\r\n  }\r\n  public set storedPath(v) {\r\n    this.storedPath_ = v;\r\n  }\r\n\r\n  constructor(\r\n      private api: ApiService,\r\n      private router: Router\r\n  ) { }\r\n\r\n  public login(request: ILoginRequest, savePassword = true): Observable<any> {\r\n    return this.api.post('auth/login', request)\r\n        .pipe(\r\n            tap((payload: IAuthorizationPayload) => {\r\n                this.handleAuthResponse(payload, savePassword);\r\n                this.authorized$$.next(this.isAuthorized());\r\n            }),\r\n            catchError( err => {\r\n                return throwError(err);\r\n            })\r\n        );\r\n  }\r\n\r\n  public registration(data: IUserProfile): Observable<IUser> {\r\n    return this.api.post('auth/register', data);\r\n  }\r\n\r\n  public saveProfile(data: IUserProfile): Observable<IUser> {\r\n    return this.api.post('profile', data);\r\n  }\r\n\r\n  public me(): Observable<IUserFullData> {\r\n    return this.api.get('auth/me');\r\n  }\r\n\r\n  public logout(): Observable<any> {\r\n    return new Observable((observer) => {\r\n        observer.next(true);\r\n        observer.complete();\r\n    }).pipe(\r\n        tap((response) => {\r\n          this.sessionStorageSet(this.storageName, null);\r\n          this.sessionStorageSet(this.payloadKey, null);\r\n          this.localStorageSet(this.storageName, null);\r\n          this.localStorageSet(this.payloadKey, null);\r\n          this.authorized$$.next(false);\r\n          this.router.navigateByUrl('/');\r\n        })\r\n    );\r\n  }\r\n\r\n  public isAuthorized(): boolean {\r\n    return !!this.localStorageGet(this.storageName) || !!this.sessionStorageGet(this.storageName);\r\n  }\r\n\r\n  public get payload(): IAuthorizationPayload|null {\r\n    if (!this.isAuthorized()) {\r\n        return null;\r\n    }\r\n    let result = this.sessionStorageGet(this.payloadKey);\r\n    if (!result) {\r\n        result = this.localStorageGet(this.payloadKey);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public updatePayload(payload: IAuthorizationPayload): void {\r\n    this.sessionStorageSet(this.payloadKey, payload);\r\n    if (this.localStorageGet(this.payloadKey)) {\r\n      this.localStorageSet(this.payloadKey, payload);\r\n    }\r\n  }\r\n\r\n  private handleAuthResponse(payload: IAuthorizationPayload, savePassword = true): void {\r\n      this.sessionStorageSet(this.storageName, true);\r\n      this.sessionStorageSet(this.payloadKey, payload);\r\n      if (savePassword) {\r\n          this.localStorageSet(this.storageName, true);\r\n          this.localStorageSet(this.payloadKey, payload);\r\n      }\r\n  }\r\n\r\n  private sessionStorageSet(key: string, value: any): void {\r\n    this.setStorageItem(sessionStorage, key, value);\r\n  }\r\n\r\n  private sessionStorageGet(key: string): any {\r\n    return this.getStorageItem(sessionStorage, key);\r\n  }\r\n\r\n  private localStorageSet(key: string, value: any): void {\r\n    this.setStorageItem(localStorage, key, value);\r\n  }\r\n\r\n  private localStorageGet(key: string): any {\r\n    return this.getStorageItem(localStorage, key);\r\n  }\r\n\r\n  private setStorageItem(storage: Storage, key: string, value: any): void {\r\n    const v = {value};\r\n    storage.setItem(key, JSON.stringify(v));\r\n  }\r\n\r\n  private getStorageItem(storage: Storage, key: string): any {\r\n    const json = storage.getItem(key);\r\n    if (!json) {\r\n      return null;\r\n    }\r\n    return JSON.parse(json).value;\r\n  }\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  apiUrl: 'http://localhost:8085/api/',\r\n  wsUrl: 'http://localhost:8086/',\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {Subject} from 'rxjs';\r\nimport {takeUntil} from 'rxjs/operators';\r\nimport {UsersApiService} from '../../core/services/users-api.service';\r\nimport {MessagesApiService} from '../../core/services/messages-api.service';\r\nimport {AuthService} from '../../core/services/auth.service';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-user-page',\r\n  templateUrl: './user-page.component.html',\r\n  styleUrls: ['./user-page.component.scss']\r\n})\r\nexport class UserPageComponent implements OnInit, OnDestroy {\r\n\r\n  public data: IUserFullData;\r\n\r\n  public posts: IPost[] = [];\r\n  public postsResponse: IPostsResponse;\r\n\r\n  public perPage = 10;\r\n\r\n  public showMessages = false;\r\n  public messages: IMessage[] = [];\r\n  public messageForm: FormGroup;\r\n\r\n  private destroy$$: Subject<void> = new Subject();\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private api: UsersApiService,\r\n    private auth: AuthService,\r\n    private messagesApi: MessagesApiService,\r\n    private fb: FormBuilder,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.data = this.activatedRoute.snapshot.data.user_data;\r\n    this.activatedRoute.params.pipe(takeUntil(this.destroy$$)).subscribe(() => {\r\n      this.data = this.activatedRoute.snapshot.data.user_data;\r\n    });\r\n    this.api.getUserPosts(\r\n      this.data.user.Id,\r\n      {\r\n        per_page: this.perPage\r\n      }\r\n    ).subscribe((response) => {\r\n      this.postsResponse = response;\r\n      this.posts = response.items;\r\n    });\r\n    if (this.auth.isAuthorized() && this.data.user.Id !== this.auth.payload.user.Id) {\r\n      this.showMessages = true;\r\n      this.messagesApi.getMessages(this.data.user.Id).subscribe((data) => {\r\n        this.messages = data.items;\r\n      });\r\n      this.messageForm = this.fb.group({\r\n        Message: ['', [Validators.required, Validators.maxLength(4096)]],\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$$.next();\r\n    this.destroy$$.complete();\r\n  }\r\n\r\n  userById(id: number): IUser {\r\n    if (id === this.data.user.Id) {\r\n      return this.data.user;\r\n    }\r\n    if (id === this.auth.payload.user.Id) {\r\n      return this.auth.payload.user;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  postMessage(): void {\r\n    if (this.messageForm.invalid) {\r\n      return;\r\n    }\r\n    this.messagesApi.postMessage(this.data.user.Id, this.messageForm.value.Message).subscribe((m) => {\r\n      this.messages.unshift(m);\r\n      this.messageForm.reset();\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"uk-container uk-container-center uk-margin-top uk-margin-large-bottom\">\r\n  <app-main-menu></app-main-menu>\r\n  <div class=\"uk-grid\">\r\n    <article class=\"uk-article uk-width-1-1\">\r\n      <img class=\"uk-border-circle\" width=\"120\" height=\"120\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTIwcHgiIGhlaWdodD0iMTIwcHgiIHZpZXdCb3g9IjAgMCAxMjAgMTIwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMjAgMTIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxyZWN0IGZpbGw9IiNGRkZGRkYiIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIi8+DQo8Zz4NCgk8cGF0aCBmaWxsPSIjRTBFMEUwIiBkPSJNMTA5LjM1NCw5OS40NzhjLTAuNTAyLTIuODA2LTEuMTM4LTUuNDA0LTEuOTAzLTcuODAxYy0wLjc2Ny0yLjM5Ny0xLjc5Ny00LjczMi0zLjA5My03LjAxMQ0KCQljLTEuMjk0LTIuMjc2LTIuNzc4LTQuMjE3LTQuNDU1LTUuODIzYy0xLjY4MS0xLjYwNC0zLjcyOS0yLjg4Ny02LjE0OC0zLjg0NmMtMi40MjEtMC45NTgtNS4wOTQtMS40MzgtOC4wMTctMS40MzgNCgkJYy0wLjQzMSwwLTEuNDM3LDAuNTE2LTMuMDIsMS41NDVjLTEuNTgxLDEuMDMyLTMuMzY3LDIuMTgyLTUuMzU1LDMuNDVjLTEuOTksMS4yNzEtNC41NzgsMi40MjEtNy43NjUsMy40NTENCgkJQzY2LjQxLDgzLjAzNyw2My4yMSw4My41NTIsNjAsODMuNTUyYy0zLjIxMSwwLTYuNDEtMC41MTUtOS41OTgtMS41NDZjLTMuMTg4LTEuMDMtNS43NzctMi4xODEtNy43NjUtMy40NTENCgkJYy0xLjk5MS0xLjI2OS0zLjc3NC0yLjQxOC01LjM1NS0zLjQ1Yy0xLjU4Mi0xLjAyOS0yLjU4OC0xLjU0NS0zLjAyLTEuNTQ1Yy0yLjkyNiwwLTUuNTk4LDAuNDc5LTguMDE3LDEuNDM4DQoJCWMtMi40MiwwLjk1OS00LjQ3MSwyLjI0MS02LjE0NiwzLjg0NmMtMS42ODEsMS42MDYtMy4xNjQsMy41NDctNC40NTgsNS44MjNjLTEuMjk0LDIuMjc4LTIuMzI2LDQuNjEzLTMuMDkyLDcuMDExDQoJCWMtMC43NjcsMi4zOTYtMS40MDIsNC45OTUtMS45MDYsNy44MDFjLTAuNTAyLDIuODAzLTAuODM5LDUuNDE1LTEuMDA2LDcuODM1Yy0wLjE2OCwyLjQyMS0wLjI1Miw0LjkwMi0wLjI1Miw3LjQ0DQoJCWMwLDEuODg0LDAuMjA3LDMuNjI0LDAuNTgyLDUuMjQ3aDEwMC4wNjNjMC4zNzUtMS42MjMsMC41ODItMy4zNjMsMC41ODItNS4yNDdjMC0yLjUzOC0wLjA4NC01LjAyLTAuMjUzLTcuNDQNCgkJQzExMC4xOTIsMTA0Ljg5MywxMDkuODU3LDEwMi4yOCwxMDkuMzU0LDk5LjQ3OHoiLz4NCgk8cGF0aCBmaWxsPSIjRTBFMEUwIiBkPSJNNjAsNzguMTZjNy42MiwwLDE0LjEyNi0yLjY5NiwxOS41Mi04LjA4OGM1LjM5Mi01LjM5Myw4LjA4OC0xMS44OTgsOC4wODgtMTkuNTE5DQoJCXMtMi42OTYtMTQuMTI2LTguMDg4LTE5LjUxOUM3NC4xMjYsMjUuNjQzLDY3LjYyLDIyLjk0Niw2MCwyMi45NDZzLTE0LjEyOCwyLjY5Ny0xOS41MTksOC4wODkNCgkJYy01LjM5NCw1LjM5Mi04LjA4OSwxMS44OTctOC4wODksMTkuNTE5czIuNjk1LDE0LjEyNiw4LjA4OSwxOS41MTlDNDUuODcyLDc1LjQ2NCw1Mi4zOCw3OC4xNiw2MCw3OC4xNnoiLz4NCjwvZz4NCjwvc3ZnPg0K\" alt=\"\">\r\n      <h1 class=\"uk-article-title\">\r\n        {{data.user.FirstName}} {{data.user.LastName}}\r\n      </h1>\r\n      <p>\r\n        Login: {{data.user.Login}} <br>\r\n        First name: {{data.user.FirstName}} <br>\r\n        Last name: {{data.user.LastName}} <br>\r\n        Age: {{data.user.Age}} <br>\r\n        Sex: {{data.user.Sex === 'female' ? 'Female' : 'Male'}} <br>\r\n        City: {{data.user.City}} <br>\r\n        Interests: {{data.user.Interests}} <br>\r\n        {{data.user.IsPublic ? 'Public profile' : 'Private profile'}} <br>\r\n      </p>\r\n      <h2>Friends</h2>\r\n      <div class=\"uk-grid\">\r\n        <app-user-card *ngFor=\"let user of data.friends\" [user]=\"user\" class=\"uk-width-medium-1-3\"></app-user-card>\r\n        <div *ngIf=\"!data.friends.length\">-</div>\r\n      </div>\r\n      <h2>Incoming requests</h2>\r\n      <div class=\"uk-grid\">\r\n        <app-user-card *ngFor=\"let user of data.incoming_requests\" [user]=\"user\" class=\"uk-width-medium-1-3\"></app-user-card>\r\n        <div *ngIf=\"!data.incoming_requests.length\">-</div>\r\n      </div>\r\n      <h2>Outgoing requests</h2>\r\n      <div class=\"uk-grid\">\r\n        <app-user-card *ngFor=\"let user of data.outgoing_requests\" [user]=\"user\" class=\"uk-width-medium-1-3\"></app-user-card>\r\n        <div *ngIf=\"!data.outgoing_requests.length\">-</div>\r\n      </div>\r\n      <ng-container *ngIf=\"showMessages\">\r\n        <h2>Messages</h2>\r\n        <div class=\"uk-grid\">\r\n          <div class=\"uk-width-1-2\">\r\n            <form class=\"uk-panel uk-panel-box uk-form\" [formGroup]=\"messageForm\">\r\n              <textarea\r\n                [ngClass]=\"{'uk-form-danger': messageForm.get('Message').invalid && messageForm.get('Message').touched}\"\r\n                class=\"uk-width-1-1 uk-form-large\" placeholder=\"Post message\" formControlName=\"Message\">\r\n              </textarea>\r\n            </form>\r\n            <a class=\"uk-width-1-1 uk-button uk-button-primary uk-button-large\" href=\"JavaScript:\" (click)=\"postMessage()\">Post message</a>\r\n          </div>\r\n          <app-message-card\r\n            class=\"uk-width-1-1\"\r\n            *ngFor=\"let message of messages\"\r\n            [message]=\"message\"\r\n            [author]=\"userById(message.AuthorId)\"\r\n          ></app-message-card>\r\n        </div>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"posts\">\r\n        <h2>Posts</h2>\r\n        <div class=\"uk-grid\">\r\n          <app-post-card\r\n            class=\"uk-width-1-1\"\r\n            *ngFor=\"let post of posts\"\r\n            [post]=\"post\"\r\n          ></app-post-card>\r\n        </div>\r\n      </ng-container>\r\n    </article>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\nimport {AuthService} from '../services/auth.service';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProfileResolverService implements Resolve<IUserFullData> {\n\n  constructor(\n    private auth: AuthService\n  ) { }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<IUserFullData> | Promise<IUserFullData> | IUserFullData {\n    return this.auth.me();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {PostsApiService} from '../../core/services/posts-api.service';\nimport {Router} from '@angular/router';\nimport {AuthService} from '../../core/services/auth.service';\n\n@Component({\n  selector: 'app-create-post-page',\n  templateUrl: './create-post-page.component.html',\n  styleUrls: ['./create-post-page.component.scss']\n})\nexport class CreatePostPageComponent implements OnInit {\n\n  public form: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private api: PostsApiService,\n    private router: Router,\n    private auth: AuthService\n  ) { }\n\n  ngOnInit(): void {\n    this.form = this.fb.group({\n      Title: ['', [Validators.required, Validators.maxLength(255)]],\n      Body: ['', [Validators.required, Validators.maxLength(4096)]],\n    });\n  }\n\n  save(): void {\n    const user = this.auth.payload.user;\n    this.api.createPost(this.form.value).subscribe(() => {\n      this.router.navigateByUrl('/users/' + user.Id);\n    });\n  }\n\n}\n","<div class=\"uk-container uk-container-center uk-margin-top uk-margin-large-bottom\">\n  <app-main-menu></app-main-menu>\n  <div class=\"uk-grid\">\n    <div class=\"uk-width-1-2\">\n      <form class=\"uk-panel uk-panel-box uk-form\" [formGroup]=\"form\">\n        <div class=\"uk-form-row\">\n          <input\n            [ngClass]=\"{'uk-form-danger': form.get('Title').invalid && form.get('Title').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"Title\" formControlName=\"Title\">\n        </div>\n        <div class=\"uk-form-row\">\n          <textarea\n            [ngClass]=\"{'uk-form-danger': form.get('Body').invalid && form.get('Body').touched}\"\n            class=\"uk-width-1-1 uk-form-large\" formControlName=\"Body\"></textarea>\n        </div>\n        <div class=\"uk-form-row \">\n          <a class=\"uk-width-1-1 uk-button uk-button-primary uk-button-large\" href=\"JavaScript:\" (click)=\"save()\">Create</a>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport {ApiService} from './api.service';\nimport {Observable} from 'rxjs';\nimport {HttpParams} from '@angular/common/http';\nimport {tap} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PostsApiService {\n\n  readonly endpoint = 'posts/';\n\n  constructor(\n    private api: ApiService,\n  ) { }\n\n  public createPost(request: IPostCreateRequest): Observable<IPost> {\n    return this.api.post(\n      this.endpoint,\n      request\n    );\n  }\n\n  public getUserFeed(): Observable<IPostsResponse> {\n    return this.api.get(\n      this.endpoint + 'feed',\n    ).pipe(\n      tap((response: IPostsResponse) => {\n        response.items.forEach((post) => {\n          post.user = response.users.find(u => u.Id === post.UserId);\n        });\n      })\n    );\n  }\n\n}\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {AuthService} from '../../core/services/auth.service';\nimport {Subject} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\nimport {UsersApiService} from '../../core/services/users-api.service';\n\n@Component({\n  selector: 'app-user-card',\n  templateUrl: './user-card.component.html',\n  styleUrls: ['./user-card.component.scss']\n})\nexport class UserCardComponent implements OnInit, OnDestroy {\n\n  @Input() user: IUser;\n\n  public authorizedUserData: IAuthorizationPayload;\n  public showAddFriend = false;\n  public showRemoveFromFriends = false;\n\n  private destroy$$: Subject<void> = new Subject();\n\n  constructor(\n    private auth: AuthService,\n    private api: UsersApiService\n  ) { }\n\n  ngOnInit(): void {\n    this.updateAuth();\n    this.auth.authorized$.pipe(takeUntil(this.destroy$$)).subscribe(() => {\n      this.updateAuth();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$$.next();\n    this.destroy$$.complete();\n  }\n\n  addToFriends(user: IUser): void {\n    this.api.addToFriends(user.Id).subscribe((r) => {\n      this.authorizedUserData.friends = r.friends;\n      this.authorizedUserData.outgoing_requests = r.outgoing_requests;\n      this.authorizedUserData.incoming_requests = r.incoming_requests;\n      this.auth.updatePayload(this.authorizedUserData);\n      this.auth.authorized$$.next(true);\n    }, () => {\n      alert('Error!');\n    });\n  }\n\n  removeFromFriends(user: IUser): void {\n    this.api.removeFromFriends(user.Id).subscribe((r) => {\n      this.authorizedUserData.friends = r.friends;\n      this.authorizedUserData.outgoing_requests = r.outgoing_requests;\n      this.authorizedUserData.incoming_requests = r.incoming_requests;\n      this.auth.updatePayload(this.authorizedUserData);\n      this.auth.authorized$$.next(true);\n    }, () => {\n      alert('Error!');\n    });\n  }\n\n  private updateAuth(): void {\n    this.authorizedUserData = this.auth.payload;\n    if (!this.authorizedUserData || (this.authorizedUserData.user.Id === this.user.Id)) {\n      this.showAddFriend = false;\n      this.showRemoveFromFriends = false;\n      return;\n    }\n    this.showRemoveFromFriends = !!this.authorizedUserData.outgoing_requests.find((u) => u.Id === this.user.Id) ||\n      !!this.authorizedUserData.friends.find((u) => u.Id === this.user.Id);\n    this.showAddFriend = !this.showRemoveFromFriends;\n  }\n}\n","<div class=\"uk-row-first\"\n     style=\"margin-bottom: 16px;\">\n  <div class=\"uk-panel uk-panel-box\" style=\"min-height: 120px\">\n    <h3 class=\"uk-panel-title\"><i class=\"uk-icon-user\"></i>{{user.FirstName}} {{user.LastName}}</h3>\n    city: {{user.City}}, age: {{user.Age}}\n    <div class=\"uk-button-group\">\n      <a class=\"uk-button uk-button-success\" routerLink=\"/users/{{user.Id}}\"> <i class=\"uk-icon-eye\"></i> View</a>\n      <a class=\"uk-button uk-button-primary\" href=\"JavaScript:\" *ngIf=\"showAddFriend\" (click)=\"addToFriends(user)\">+ friends</a>\n      <a class=\"uk-button uk-button-danger\" href=\"JavaScript:\" *ngIf=\"showRemoveFromFriends\" (click)=\"removeFromFriends(user)\">- friends</a>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { UsersApiService } from '../../core/services/users-api.service';\nimport {Subject} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.scss']\n})\nexport class HomePageComponent implements OnInit {\n\n  public perPage = 99;\n  public data: IItemsResponse<IUser> = null;\n  public users: IUser[] = [];\n  public searchTerm = '';\n\n  public totalPages = 0;\n\n  public searchChanged$$: Subject<void> = new Subject();\n\n  constructor(\n    private api: UsersApiService\n  ) { }\n\n  ngOnInit(): void {\n    this.initPage();\n    this.searchChanged$$.pipe(debounceTime(400)).subscribe(() => {\n      this.initPage();\n    });\n  }\n\n  public nextPage(): void {\n    this.api.getUsers({page: this.data.page +1, per_page: this.perPage, search: this.searchTerm}).subscribe((r) => {\n      r.items.forEach(e => {\n        this.users.push(e);\n      });\n      this.data = r;\n    });\n  }\n\n  private initPage(): void {\n    this.api.getUsers({per_page: this.perPage, search: this.searchTerm}).subscribe((r) => {\n      this.data = r;\n      this.users = r.items;\n      this.totalPages = Math.ceil(r.total_items / r.per_page);\n    });\n  }\n\n}\n","<div class=\"uk-container uk-container-center uk-margin-top uk-margin-large-bottom\">\n  <app-main-menu></app-main-menu>\n  <form class=\"uk-form\">\n    <input type=\"text\" name=\"search\" placeholder=\"Search\" [(ngModel)]=\"searchTerm\" (ngModelChange)=\"searchChanged$$.next()\">\n    <hr>\n  </form>\n  <div class=\"uk-grid\" *ngIf=\"data\">\n    <app-user-card *ngFor=\"let user of users\" [user]=\"user\" class=\"uk-width-medium-1-3\"></app-user-card>\n  </div>\n  <button\n    *ngIf=\"data && data.page < totalPages\"\n    (click)=\"nextPage()\"\n    class=\"uk-button uk-width-1-1 uk-margin-small-bottom\">More</button>\n</div>\n","import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {PostsApiService} from '../services/posts-api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FeedResolverService implements Resolve<IPostsResponse> {\n\n  constructor(\n    private api: PostsApiService\n  ) { }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n    Observable<IPostsResponse> | Promise<IPostsResponse> | IPostsResponse {\n      return this.api.getUserFeed();\n    }\n}\n","import { Injectable } from '@angular/core';\r\nimport { ApiService } from './api.service';\r\nimport {Observable} from 'rxjs';\r\nimport {HttpParams} from '@angular/common/http';\r\nimport {tap} from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UsersApiService {\r\n\r\n  readonly endpoint = 'users/';\r\n\r\n  constructor(\r\n    private api: ApiService,\r\n  ) { }\r\n\r\n  public getUsers(query: IItemsQuery = {}): Observable<IItemsResponse<IUser>> {\r\n    return this.api.get(\r\n      this.endpoint,\r\n      {\r\n        params: new HttpParams({\r\n          fromObject: query as any\r\n        })\r\n      }\r\n    );\r\n  }\r\n\r\n  public getUserPosts(userId: number, query: IItemsQuery = {}): Observable<IPostsResponse> {\r\n    return this.api.get(\r\n      this.endpoint + String(userId) + '/posts',\r\n      {\r\n        params: new HttpParams({\r\n          fromObject: query as any\r\n        })\r\n      }\r\n    ).pipe(\r\n      tap((response: IPostsResponse) => {\r\n        response.items.forEach((post) => {\r\n          post.user = response.users.find(u => u.Id === post.UserId);\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  public getUser(id: number): Observable<IUserFullData> {\r\n    return this.api.get(this.endpoint + id);\r\n  }\r\n\r\n  public addToFriends(userId: number): Observable<IUserFullData> {\r\n    return this.api.post(this.endpoint + userId + '/add_to_friends');\r\n  }\r\n\r\n  public removeFromFriends(userId: number): Observable<IUserFullData> {\r\n    return this.api.post(this.endpoint + userId + '/remove_from_friends');\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'webclient';\n}\n","<router-outlet></router-outlet>\n","import { Injectable } from '@angular/core';\r\nimport {ApiService} from './api.service';\r\nimport {Observable} from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MessagesApiService {\r\n\r\n  readonly endpoint = 'messages/';\r\n\r\n  constructor(\r\n    private api: ApiService,\r\n  ) { }\r\n\r\n  public getMessages(userId: number): Observable<IMessageResponse> {\r\n    return this.api.get(this.endpoint + userId);\r\n  }\r\n\r\n  public postMessage(userId: number, message: string): Observable<IMessage> {\r\n    return this.api.post(this.endpoint + userId, {\r\n      Message: message\r\n    });\r\n  }\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-post-card',\n  templateUrl: './post-card.component.html',\n  styleUrls: ['./post-card.component.scss']\n})\nexport class PostCardComponent implements OnInit {\n\n  @Input() post: IPost;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"uk-width-medium\">\n  <div class=\"uk-panel uk-panel-box\">\n    <h3 class=\"uk-panel-title\">{{post.Title}}</h3>\n    <div>Author: {{post.user ? post.user.FirstName + ' ' + post.user.LastName : '-'}}</div>\n    <div>{{post.UpdatedAt}}</div>\n    <pre>{{post.Body}}</pre>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\r\nimport {\r\n    CanActivate,\r\n    CanActivateChild,\r\n    CanLoad,\r\n    Route,\r\n    UrlSegment,\r\n    ActivatedRouteSnapshot,\r\n    RouterStateSnapshot,\r\n    UrlTree,\r\n    Router\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport {AuthService} from '../services/auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthorizedOnlyGuard implements CanActivate, CanActivateChild, CanLoad {\r\n\r\n  constructor(private auth: AuthService, private router: Router) {}\r\n\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return this.can();\r\n  }\r\n  canActivateChild(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return this.can();\r\n  }\r\n  canLoad(\r\n    route: Route,\r\n    segments: UrlSegment[]): Observable<boolean> | Promise<boolean> | boolean {\r\n    const can = this.can();\r\n    if (!can) {\r\n      this.auth.storedPath = segments.map(e => e.path).join('/');\r\n    }\r\n    return can;\r\n  }\r\n\r\n  private can(): boolean {\r\n    const can = this.auth.isAuthorized();\r\n    if (!can) {\r\n        this.router.navigateByUrl('/login');\r\n    }\r\n    return can;\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { CoreModule } from './core/core.module';\r\nimport { HomePageComponent } from './pages/home-page/home-page.component';\r\nimport { MainMenuComponent } from './components/main-menu/main-menu.component';\r\nimport { UserCardComponent } from './components/user-card/user-card.component';\r\nimport { UserPageComponent } from './pages/user-page/user-page.component';\r\nimport { Page404Component } from './pages/page404/page404.component';\r\nimport { LoginPageComponent } from './pages/login-page/login-page.component';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport { RegistrationPageComponent } from './pages/registration-page/registration-page.component';\r\nimport { ProfileEditPageComponent } from './pages/profile-edit-page/profile-edit-page.component';\r\nimport { PostCardComponent } from './components/post-card/post-card.component';\r\nimport { PostPageComponent } from './pages/post-page/post-page.component';\r\nimport { CreatePostPageComponent } from './pages/create-post-page/create-post-page.component';\r\nimport { FeedPageComponentComponent } from './pages/feed-page-component/feed-page-component.component';\r\nimport { MessageCardComponent } from './components/message-card/message-card.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomePageComponent,\r\n    MainMenuComponent,\r\n    UserCardComponent,\r\n    UserPageComponent,\r\n    Page404Component,\r\n    LoginPageComponent,\r\n    RegistrationPageComponent,\r\n    ProfileEditPageComponent,\r\n    PostCardComponent,\r\n    PostPageComponent,\r\n    CreatePostPageComponent,\r\n    FeedPageComponentComponent,\r\n    MessageCardComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    CoreModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import {Component, Input, OnInit} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-message-card',\r\n  templateUrl: './message-card.component.html',\r\n  styleUrls: ['./message-card.component.scss']\r\n})\r\nexport class MessageCardComponent implements OnInit {\r\n\r\n  @Input() message: IMessage;\r\n  @Input() author: IUser;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"uk-width-medium\">\r\n  <div class=\"uk-panel uk-panel-box\">\r\n    <div>Author: {{author ? author.FirstName + ' ' + author.LastName : '-'}}</div>\r\n    <div>{{message.CreatedAt}}</div>\r\n    <pre>{{message.Message}}</pre>\r\n  </div>\r\n</div>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {AuthService} from '../../core/services/auth.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-registration-page',\n  templateUrl: './registration-page.component.html',\n  styleUrls: ['./registration-page.component.scss']\n})\nexport class RegistrationPageComponent implements OnInit {\n\n  public form: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private auth: AuthService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.form = this.fb.group({\n      Login: ['', [Validators.required, Validators.maxLength(255)]],\n      Password: ['', [Validators.required, Validators.maxLength(255)]],\n      FirstName: ['', [Validators.required, Validators.maxLength(255)]],\n      LastName: ['', [Validators.required, Validators.maxLength(255)]],\n      City: ['', [Validators.required, Validators.maxLength(255)]],\n      Interests: ['', [Validators.required, Validators.maxLength(4096)]],\n      Age: ['', [Validators.required, Validators.min(18), Validators.max(150)]],\n      Sex: [null, [Validators.required]],\n      IsPublic: [true],\n    });\n  }\n\n  registration(): void {\n    if (this.form.invalid) {\n      return;\n    }\n    this.auth.registration(this.form.value).subscribe(() => {\n      this.router.navigateByUrl('/login');\n    }, (err) => {\n      const error = err.error?.error;\n      alert(error ? error : 'Error!');\n    });\n  }\n\n}\n","<div class=\"uk-vertical-align uk-text-center uk-height-1-1\">\n  <div class=\"uk-vertical-align-middle\" style=\"width: 400px;\">\n    <img class=\"uk-margin-bottom\" width=\"140\" height=\"120\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwcHgiIGhlaWdodD0iMTIwcHgiIHZpZXdCb3g9Ii0yOS41IDI3NS41IDE0MCAxMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTI5LjUgMjc1LjUgMTQwIDEyMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8ZyBvcGFjaXR5PSIwLjciPg0KCTxwYXRoIGZpbGw9IiNEOEQ4RDgiIGQ9Ik0tNi4zMzMsMjk4LjY1NHY3My42OTFoOTMuNjY3di03My42OTFILTYuMzMzeiBNNzkuNzg4LDM2NC4zNTVIMS42NTZ2LTU3LjcwOWg3OC4xMzJWMzY0LjM1NXoiLz4NCgk8cG9seWdvbiBmaWxsPSIjRDhEOEQ4IiBwb2ludHM9IjUuODYsMzU4LjE0MSAyMS45NjIsMzQxLjIxNiAyNy45OTUsMzQzLjgyNyA0Ny4wMzIsMzIzLjU2MSA1NC41MjQsMzMyLjUyMyA1Ny45MDUsMzMwLjQ4IA0KCQk3Ni4yMDMsMzU4LjE0MSAJIi8+DQoJPGNpcmNsZSBmaWxsPSIjRDhEOEQ4IiBjeD0iMjQuNDYyIiBjeT0iMzIxLjMyMSIgcj0iNy4wMzQiLz4NCjwvZz4NCjwvc3ZnPg0K\" alt=\"\">\n    <form class=\"uk-panel uk-panel-box uk-form\" [formGroup]=\"form\">\n      <div class=\"uk-form-row\">\n        <input\n          [ngClass]=\"{'uk-form-danger': form.get('Login').invalid && form.get('Login').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"Login\" formControlName=\"Login\">\n      </div>\n      <div class=\"uk-form-row\">\n        <input\n          [ngClass]=\"{'uk-form-danger': form.get('Password').invalid && form.get('Password').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"password\" placeholder=\"Password\" formControlName=\"Password\">\n      </div>\n      <div class=\"uk-form-row\">\n        <input\n          [ngClass]=\"{'uk-form-danger': form.get('FirstName').invalid && form.get('FirstName').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"First name\" formControlName=\"FirstName\">\n      </div>\n      <div class=\"uk-form-row\">\n        <input\n          [ngClass]=\"{'uk-form-danger': form.get('LastName').invalid && form.get('LastName').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"Last name\" formControlName=\"LastName\">\n      </div>\n      <div class=\"uk-form-row\">\n        <input\n          [ngClass]=\"{'uk-form-danger': form.get('City').invalid && form.get('City').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"text\" placeholder=\"City\" formControlName=\"City\">\n      </div>\n      <div class=\"uk-form-row\">\n        <input\n          [ngClass]=\"{'uk-form-danger': form.get('Age').invalid && form.get('Age').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"number\" placeholder=\"Age\" formControlName=\"Age\">\n      </div>\n      <div class=\"uk-form-row\">\n        <select\n          [ngClass]=\"{'uk-form-danger': form.get('Sex').invalid && form.get('Sex').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" type=\"number\" placeholder=\"Sex\" formControlName=\"Sex\">\n          <option value=\"male\">Male</option>\n          <option value=\"female\">Female</option>\n        </select>\n      </div>\n      <div class=\"uk-form-row\">\n        <textarea\n          [ngClass]=\"{'uk-form-danger': form.get('Interests').invalid && form.get('Interests').touched}\"\n          class=\"uk-width-1-1 uk-form-large\" placeholder=\"Interests\" formControlName=\"Interests\"></textarea>\n      </div>\n      <div class=\"uk-form-row uk-text-small\">\n         <label class=\"uk-float-left\"><input type=\"checkbox\" formControlName=\"IsPublic\"> public profile</label>\n      </div>\n      <div class=\"uk-form-row \">\n        <a class=\"uk-width-1-1 uk-button uk-button-primary uk-button-large\" href=\"JavaScript:\" (click)=\"registration()\">Registration</a>\n      </div>\n      <div class=\"uk-form-row \">\n        <a class=\"uk-width-1-1 uk-button uk-button-primary uk-button-large\" routerLink=\"/login\">Login</a>\n      </div>\n    </form>\n  </div>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { AuthService } from 'src/app/core/services/auth.service';\r\nimport {Subject} from 'rxjs';\r\nimport {takeUntil} from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-main-menu',\r\n  templateUrl: './main-menu.component.html',\r\n  styleUrls: ['./main-menu.component.scss']\r\n})\r\nexport class MainMenuComponent implements OnInit, OnDestroy {\r\n\r\n  private destroy$$: Subject<void> = new Subject();\r\n\r\n  public authorized: boolean;\r\n  public data: IAuthorizationPayload;\r\n\r\n  constructor(\r\n    private auth: AuthService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.authorized = this.auth.isAuthorized();\r\n    this.data = this.auth.payload;\r\n    this.auth.authorized$.pipe(takeUntil(this.destroy$$)).subscribe(() => {\r\n      this.authorized = this.auth.isAuthorized();\r\n      this.data = this.auth.payload;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$$.next();\r\n    this.destroy$$.complete();\r\n  }\r\n\r\n  logout(): void {\r\n    this.auth.logout().subscribe(() => {});\r\n  }\r\n\r\n}\r\n","<nav class=\"uk-navbar uk-margin-large-bottom\">\r\n  <a class=\"uk-navbar-brand uk-hidden-small\" routerLink=\"/\">Social network</a>\r\n  <ul class=\"uk-navbar-nav uk-hidden-small\">\r\n    <li routerLinkActive=\"uk-active\" [routerLinkActiveOptions]=\"{ exact: true }\">\r\n      <a routerLink=\"/\">Homepage</a>\r\n    </li>\r\n    <li routerLinkActive=\"uk-active\" *ngIf=\"!authorized\">\r\n      <a routerLink=\"/registration\">Registration</a>\r\n    </li>\r\n    <li routerLinkActive=\"uk-active\" *ngIf=\"!authorized\">\r\n      <a routerLink=\"/login\">Login</a>\r\n    </li>\r\n    <li routerLinkActive=\"uk-active\" *ngIf=\"authorized\" [routerLinkActiveOptions]=\"{ exact: true }\">\r\n      <a routerLink=\"/users/{{data.user.Id}}\">My page</a>\r\n    </li>\r\n    <li routerLinkActive=\"uk-active\" *ngIf=\"authorized\">\r\n      <a routerLink=\"/profile\">Profile</a>\r\n    </li>\r\n    <li *ngIf=\"authorized\">\r\n      <a routerLink=\"/create_post\">Create post</a>\r\n    </li>\r\n    <li *ngIf=\"authorized\">\r\n      <a routerLink=\"/feed\">Feed</a>\r\n    </li>\r\n    <li *ngIf=\"authorized\">\r\n      <a href=\"JavaScript:\" (click)=\"logout()\">Logout</a>\r\n    </li>\r\n  </ul>\r\n  <a href=\"#offcanvas\" class=\"uk-navbar-toggle uk-visible-small\" data-uk-offcanvas></a>\r\n  <div class=\"uk-navbar-brand uk-navbar-center uk-visible-small\">Social network</div>\r\n</nav>\r\n<div id=\"offcanvas\" class=\"uk-offcanvas\">\r\n  <div class=\"uk-offcanvas-bar\">\r\n    <ul class=\"uk-nav uk-nav-offcanvas\">\r\n      <li routerLinkActive=\"uk-active\" [routerLinkActiveOptions]=\"{ exact: true }\">\r\n        <a routerLink=\"/\">Homepage</a>\r\n      </li>\r\n      <li routerLinkActive=\"uk-active\" *ngIf=\"!authorized\">\r\n        <a routerLink=\"/registration\">Registration</a>\r\n      </li>\r\n      <li routerLinkActive=\"uk-active\" *ngIf=\"!authorized\">\r\n        <a routerLink=\"/login\">Login</a>\r\n      </li>\r\n      <li routerLinkActive=\"uk-active\" *ngIf=\"authorized\" [routerLinkActiveOptions]=\"{ exact: true }\">\r\n        <a routerLink=\"/users/{{data.user.Id}}\">My page</a>\r\n      </li>\r\n      <li routerLinkActive=\"uk-active\" *ngIf=\"authorized\">\r\n        <a routerLink=\"/profile\">Profile</a>\r\n      </li>\r\n      <li *ngIf=\"authorized\">\r\n        <a routerLink=\"/create_post\">Create post</a>\r\n      </li>\r\n      <li *ngIf=\"authorized\">\r\n        <a routerLink=\"/feed\">Feed</a>\r\n      </li>\r\n      <li *ngIf=\"authorized\">\r\n        <a href=\"JavaScript:\" (click)=\"logout()\">Logout</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-post-page',\n  templateUrl: './post-page.component.html',\n  styleUrls: ['./post-page.component.scss']\n})\nexport class PostPageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>post-page works!</p>\n","import { Injectable } from '@angular/core';\nimport {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\nimport { UsersApiService } from '../services/users-api.service';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserResolverService implements Resolve<IUserFullData>{\n\n  constructor(\n    private api: UsersApiService\n  ) { }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<IUserFullData> | Promise<IUserFullData> | IUserFullData {\n    const id = route.paramMap.get('id');\n    return this.api.getUser(Number(id));\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ApiService } from './services/api.service';\r\nimport {HTTP_INTERCEPTORS, HttpClientModule, HttpClientJsonpModule} from '@angular/common/http';\r\nimport { ApiInterceptorService } from './services/api-interceptor.service';\r\nimport { UsersApiService } from './services/users-api.service';\r\nimport { GuestOnlyGuard } from './guards/guest-only.guard';\r\nimport {AuthorizedOnlyGuard} from './guards/authorized-only.guard';\r\nimport {PostsApiService} from './services/posts-api.service';\r\nimport {MessagesApiService} from './services/messages-api.service';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    HttpClientJsonpModule,\r\n  ],\r\n  providers: [\r\n    ApiService,\r\n    {provide: HTTP_INTERCEPTORS, useClass: ApiInterceptorService, multi: true},\r\n    UsersApiService,\r\n    PostsApiService,\r\n    GuestOnlyGuard,\r\n    AuthorizedOnlyGuard,\r\n    MessagesApiService,\r\n  ]\r\n})\r\nexport class CoreModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpRequest} from '@angular/common/http';\r\nimport {environment} from '../../../environments/environment';\r\nimport {Observable, of} from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n\r\n  private apiUrl;\r\n\r\n  constructor(\r\n      private http: HttpClient\r\n  ) {\r\n      this.apiUrl = environment.apiUrl;\r\n  }\r\n\r\n  /**\r\n   * Request to API\r\n   */\r\n  public request(request: HttpRequest<any>): Observable<any> {\r\n      return this.http.request(request);\r\n  }\r\n\r\n  /**\r\n   * JSONp request to API\r\n   */\r\n  public jsonp(url: string, callback: string): Observable<any> {\r\n      url = this.removeSlash(url);\r\n      return this.http.jsonp(this.apiUrl + url, callback);\r\n  }\r\n\r\n  /**\r\n   * GET request to API\r\n   */\r\n  public get(url: string, options: any = {}): Observable<any> {\r\n      url = this.removeSlash(url);\r\n      return this.http.get(this.apiUrl + url, options);\r\n  }\r\n\r\n  /**\r\n   * POST request to API\r\n   */\r\n  public post(url: string, body: any = null, options: any = {}): Observable<any> {\r\n      url = this.removeSlash(url);\r\n      return this.http.post(this.apiUrl + url, body, options);\r\n  }\r\n\r\n  /**\r\n   * PUT request to API\r\n   */\r\n  public put(url: string, body: any, options: any = {}): Observable<any> {\r\n      url = this.removeSlash(url);\r\n      return this.http.put(this.apiUrl + url, body, options);\r\n  }\r\n\r\n  /**\r\n   * DELETE request to API\r\n   */\r\n  public delete(url: string, options: any = {}): Observable<any> {\r\n      url = this.removeSlash(url);\r\n      return this.http.delete(this.apiUrl + url, options);\r\n  }\r\n\r\n  /**\r\n   * PATCH request to API\r\n   */\r\n  public patch(url: string, body: any, options: any = {}): Observable<any> {\r\n      url = this.removeSlash(url);\r\n      return this.http.patch(this.apiUrl + url, body, options);\r\n  }\r\n\r\n  /**\r\n   * OPTIONS request to API\r\n   */\r\n  public options(url: string, options: any = {}): Observable<any> {\r\n      url = this.removeSlash(url);\r\n      return this.http.options(this.apiUrl + url, options);\r\n  }\r\n\r\n  /**\r\n   * HEAD request to API\r\n   */\r\n  public head(url: string, options: any = {}): Observable<any> {\r\n      url = this.removeSlash(url);\r\n      return this.http.head(this.apiUrl + url, options);\r\n  }\r\n\r\n  private removeSlash(url: string): string {\r\n      const last = url.slice(-1);\r\n      if (last === '/') {\r\n          url = url.slice(0, url.length - 1);\r\n      }\r\n\r\n      return url;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page404',\n  templateUrl: './page404.component.html',\n  styleUrls: ['./page404.component.scss']\n})\nexport class Page404Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"uk-container uk-container-center uk-margin-top uk-margin-large-bottom\">\n  <app-main-menu></app-main-menu>\n  <div class=\"uk-grid\">Page not found</div>\n</div>\n","import { Injectable } from '@angular/core';\r\nimport {\r\n    CanActivate,\r\n    CanActivateChild,\r\n    CanLoad,\r\n    Route,\r\n    UrlSegment,\r\n    ActivatedRouteSnapshot,\r\n    RouterStateSnapshot,\r\n    UrlTree,\r\n    Router\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport {AuthService} from '../services/auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GuestOnlyGuard implements CanActivate, CanActivateChild, CanLoad {\r\n\r\n  constructor(private auth: AuthService, private router: Router) {}\r\n\r\n  canActivate(\r\n      next: ActivatedRouteSnapshot,\r\n      state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n      return this.can();\r\n  }\r\n  canActivateChild(\r\n      next: ActivatedRouteSnapshot,\r\n      state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n      return this.can();\r\n  }\r\n  canLoad(\r\n      route: Route,\r\n      segments: UrlSegment[]): Observable<boolean> | Promise<boolean> | boolean {\r\n      return this.can();\r\n  }\r\n\r\n  private can(): boolean {\r\n      const can = !this.auth.isAuthorized();\r\n      if (!can) {\r\n          this.router.navigateByUrl('/');\r\n      }\r\n      return can;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomePageComponent } from './pages/home-page/home-page.component';\nimport { UserPageComponent } from './pages/user-page/user-page.component';\nimport { UserResolverService } from './core/resolvers/user-resolver.service';\nimport {Page404Component} from './pages/page404/page404.component';\nimport { LoginPageComponent } from './pages/login-page/login-page.component';\nimport { GuestOnlyGuard } from './core/guards/guest-only.guard';\nimport {RegistrationPageComponent} from './pages/registration-page/registration-page.component';\nimport {ProfileEditPageComponent} from './pages/profile-edit-page/profile-edit-page.component';\nimport {AuthorizedOnlyGuard} from './core/guards/authorized-only.guard';\nimport {ProfileResolverService} from './core/resolvers/profile-resolver.service';\nimport {CreatePostPageComponent} from './pages/create-post-page/create-post-page.component';\nimport {FeedPageComponentComponent} from './pages/feed-page-component/feed-page-component.component';\nimport {FeedResolverService} from './core/resolvers/feed-resolver.service';\n\nconst routes: Routes = [\n  {\n    path : '',\n    component: HomePageComponent,\n    pathMatch: 'full'\n  },\n  {\n    path : 'users/:id',\n    component: UserPageComponent,\n    pathMatch: 'full',\n    resolve: {\n      user_data: UserResolverService\n    },\n  },\n  {\n    path : 'login',\n    component: LoginPageComponent,\n    pathMatch: 'full',\n    canLoad: [GuestOnlyGuard],\n    canActivate: [GuestOnlyGuard],\n    canActivateChild: [GuestOnlyGuard],\n  },\n  {\n    path : 'registration',\n    component: RegistrationPageComponent,\n    pathMatch: 'full',\n    canLoad: [GuestOnlyGuard],\n    canActivate: [GuestOnlyGuard],\n    canActivateChild: [GuestOnlyGuard],\n  },\n  {\n    path : 'profile',\n    component: ProfileEditPageComponent,\n    pathMatch: 'full',\n    canLoad: [AuthorizedOnlyGuard],\n    canActivate: [AuthorizedOnlyGuard],\n    canActivateChild: [AuthorizedOnlyGuard],\n    resolve: {\n      user_data: ProfileResolverService\n    }\n  },\n  {\n    path : 'create_post',\n    component: CreatePostPageComponent,\n    pathMatch: 'full',\n    canLoad: [AuthorizedOnlyGuard],\n    canActivate: [AuthorizedOnlyGuard],\n    canActivateChild: [AuthorizedOnlyGuard],\n  },\n  {\n    path : 'feed',\n    component: FeedPageComponentComponent,\n    pathMatch: 'full',\n    canLoad: [AuthorizedOnlyGuard],\n    canActivate: [AuthorizedOnlyGuard],\n    canActivateChild: [AuthorizedOnlyGuard],\n    resolve: {\n      feed: FeedResolverService\n    }\n  },\n  {\n    path : '**',\n    component: Page404Component,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Injectable, Injector } from '@angular/core';\r\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from './auth.service';\r\nimport {Router} from '@angular/router';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiInterceptorService implements HttpInterceptor {\r\n\r\n  constructor(\r\n      private injector: Injector\r\n  ) { }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n      const auth = this.injector.get(AuthService);\r\n      const router = this.injector.get(Router);\r\n      const payload =  auth.payload;\r\n      const token = payload ? payload.token : null;\r\n      req = this.addToken(req, token);\r\n      return next.handle(req).pipe(\r\n        catchError((error: HttpErrorResponse) => {\r\n          if (error.status === 401) {\r\n            auth.logout();\r\n          }\r\n          if (error.status === 403) {\r\n            router.navigateByUrl('/');\r\n          }\r\n          throw error;\r\n        })\r\n      );\r\n  }\r\n\r\n  addToken(req: HttpRequest<any>, token: string|null): HttpRequest<any> {\r\n      const requestOptions: any = {};\r\n      if (req.body) {\r\n          requestOptions.body = req.body;\r\n      }\r\n      if (token) {\r\n          requestOptions.setHeaders = {\r\n              Authorization: 'Bearer ' + token,\r\n          };\r\n      }\r\n      return req.clone(requestOptions);\r\n  }\r\n}\r\n\r\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}